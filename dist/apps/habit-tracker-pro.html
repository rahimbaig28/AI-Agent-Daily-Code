<!DOCTYPE html>
<html lang="en">
<head>
<!-- Auto-generated via Perplexity on 2026-02-12T21:49:41.401113Z -->

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Habit Tracker Pro</title>
<style>
:root{--bg:#fff;--bg-sec:#f8f9fa;--text:#212529;--text-sec:#6c757d;--accent:#007bff;--accent-hov:#0056b3;--border:#dee2e6;--shadow:0 2px 4px rgba(0,0,0,.1);--radius:8px;--trans:0.2s ease}body[data-theme=dark]{--bg:#212529;--bg-sec:#343a40;--text:#f8f9fa;--text-sec:#adb5bd;--accent:#4dabf7;--accent-hov:#339af0;--border:#495057;--shadow:0 4px 8px rgba(0,0,0,.3)}*{box-sizing:border-box;margin:0;padding:0}body{font-family:system-ui,-apple-system,sans-serif;font-size:16px;line-height:1.5;color:var(--text);background:var(--bg);transition:all var(--trans)}@media(prefers-reduced-motion:no-preference){.trans{transition:all var(--trans)}}.container{max-width:800px;margin:0 auto;padding:1rem}.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;flex-wrap:wrap;gap:1rem}.theme-toggle{width:44px;height:44px;border:none;background:var(--bg-sec);color:var(--text-sec);border-radius:50%;cursor:pointer;font-size:1.1rem;display:grid;place-items:center;min-height:44px}.theme-toggle:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.add-habit{width:100%;max-width:300px;padding:0.75rem 1rem;border:2px solid var(--border);border-radius:var(--radius);background:var(--bg-sec);color:var(--text);font-size:1rem}.add-habit:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 3px rgba(0,123,255,.25)}.grid{role:"grid";display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:1rem;margin-bottom:1.5rem}.day{position:relative;border:2px solid var(--border);border-radius:var(--radius);padding:1rem;overflow:hidden;background:var(--bg-sec);transition:all var(--trans);min-height:140px;cursor:pointer}.day:focus-visible{outline:2px solid var(--accent);outline-offset:-2px}.day-header{margin-bottom:0.75rem;text-align:center;font-weight:600;color:var(--text)}.day-num{font-size:2rem;line-height:1;color:var(--accent)}.habit-slot{margin-bottom:0.75rem}.habit-input{width:100%;padding:0.5rem;border:1px solid var(--border);border-radius:4px;background:transparent;color:var(--text);font-size:0.9rem;text-align:center}.habit-input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(0,123,255,.25)}.checkbox{display:flex;align-items:center;justify-content:center;width:44px;height:44px;border:2px solid var(--border);border-radius:50%;margin:0 auto 0.5rem;cursor:pointer;background:var(--bg);transition:all var(--trans)}.checkbox input{position:absolute;opacity:0;width:0;height:0}.checkbox svg{opacity:0;stroke-dasharray:19;stroke-dashoffset:19;transition:all .3s cubic-bezier(.4,0,.2,1);stroke:var(--accent);stroke-width:2;stroke-linecap:round;stroke-linejoin:round;width:20px;height:20px}.checkbox.checked{transform:scale(1.1);border-color:var(--accent);background:var(--accent);box-shadow:0 4px 8px rgba(0,123,255,.3)}.checkbox.checked svg{opacity:1;stroke-dashoffset:0}.progress{display:flex;align-items:center;justify-content:center;width:44px;height:44px;margin:0 auto;border-radius:50%;background:var(--bg)}.progress-circle{transform:rotate(-90deg)}.progress-circle circle{fill:none;stroke:var(--border);stroke-width:3;stroke-linecap:round}.progress-circle .fill{stroke:var(--accent);stroke-dasharray:110;stroke-dashoffset:110;transition:stroke-dashoffset .3s ease}.stats{padding:1rem;background:var(--bg-sec);border-radius:var(--radius);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;font-size:0.9rem}.stats strong{color:var(--accent)}.btn{padding:0.75rem 1.5rem;border:none;border-radius:var(--radius);background:var(--accent);color:#fff;cursor:pointer;font-weight:500;transition:all var(--trans);min-height:44px;width:100%;max-width:200px}.btn:hover{background:var(--accent-hov)}.btn:focus-visible{outline:2px solid #fff;outline-offset:2px}.btn-sec{background:var(--bg-sec);color:var(--text)}.btn-danger{background:#dc3545}.btn-danger:hover{background:#c82333}.dialog{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:1000;padding:1rem}.dialog[hidden]{display:none}.dialog-content{background:var(--bg);padding:2rem;border-radius:var(--radius);box-shadow:var(--shadow);max-width:400px;width:100%;position:relative}.dialog-buttons{display:flex;gap:1rem;justify-content:flex-end;margin-top:1.5rem}.live-announce{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.live-announce:not([aria-hidden=true]){position:static;width:auto;height:auto}.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media(max-width:600px){.grid{grid-template-columns:repeat(3,1fr);gap:0.75rem}.day{padding:0.75rem;min-height:120px}.day-header{font-size:0.9rem}.day-num{font-size:1.5rem}}</style>
</head>
<body>
<div class="container">
<header class="header">
<h1>Habit Tracker Pro</h1>
<button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">ðŸŒ™</button>
</header>
<div class="add-section">
<input type="text" class="add-habit" id="newHabit" placeholder="Add habit to selected day (Enter)" aria-label="New habit name">
<div id="liveAnnounce" class="live-announce" aria-live="polite" role="status"></div>
</div>
<div class="grid" id="habitGrid" role="grid" aria-label="Weekly habit grid">
<template id="dayTemplate">
<div class="day" role="gridcell" tabindex="0" data-day="0">
<div class="day-header">
<div class="day-num">S</div>
<div>Sun</div>
</div>
<div class="habit-slot">
<input type="text" class="habit-input" placeholder="Habit" aria-label="Habit name">
<div class="checkbox" role="checkbox" aria-checked="false" tabindex="0">
<svg viewBox="0 0 20 20"><polyline points="5,10 8,13 15,7"/></svg>
<input type="checkbox">
</div>
<svg class="progress trans" width="44" height="44" aria-label="Progress">
<circle class="progress-circle" cx="22" cy="22" r="17">
<circle class="fill" cx="22" cy="22" r="17" pathLength="1"/>
</circle>
</svg>
</div>
</div>
</template>
</div>
<footer class="stats">
<div>Streak: <strong id="currentStreak">0</strong> / <strong id="maxStreak">0</strong></div>
<div id="weeklyPercent">0%</div>
<button class="btn btn-sec" id="exportBtn">Export JSON</button>
<button class="btn btn-danger" id="resetWeek">Reset Week</button>
</footer>
</div>
<div id="confirmDialog" class="dialog" hidden>
<div class="dialog-content">
<h2>Reset Week?</h2>
<p>This will clear all completions this week.</p>
<div class="dialog-buttons">
<button class="btn" id="confirmReset">Reset</button>
<button class="btn btn-sec" id="cancelReset">Cancel</button>
</div>
</div>
</div>
<script>
class HabitTracker{constructor(){this.days=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];this.currentDay=4;this.data={habits:Array(7).fill().map(()=>[]),completions:{},theme:'system'};this.undoStack=[];this.redoStack=[];this.init()}init(){this.loadData();this.buildGrid();this.selectedDay=this.currentDay;this.updateGridSelection();this.updateStats();this.bindEvents();this.announce('Habit Tracker loaded');}loadData(){const saved=localStorage.getItem('habit-tracker-pro');if(saved){const data=JSON.parse(saved);this.data={...this.data,...data,completions:data.completions||{},habits:data.habits||Array(7).fill().map(()=>[])}[1][3]}this.data.theme=this.data.theme||'system';this.setTheme(this.data.theme);}saveData(){localStorage.setItem('habit-tracker-pro',JSON.stringify(this.data));this.saveUndoState();}saveUndoState(){if(this.undoStack.length>50)this.undoStack.shift();this.undoStack.push(JSON.parse(JSON.stringify(this.data)));this.redoStack=[];}buildGrid(){const grid=document.getElementById('habitGrid');grid.innerHTML='';for(let i=0;i<7;i++){const dayDiv=document.createElement('div');dayDiv.className='day';dayDiv.setAttribute('role','gridcell');dayDiv.setAttribute('tabindex','0');dayDiv.dataset.day=i;dayDiv.innerHTML=`<div class="day-header"><div class="day-num">${String(i+1).padStart(2,'0')}</div><div>${this.days[i]}</div></div><div class="habit-slot"><input type="text" class="habit-input" placeholder="Habit" aria-label="Habit ${i}"><div class="checkbox" role="checkbox" aria-checked="false" tabindex="0"><svg viewBox="0 0 20 20"><polyline points="5,10 8,13 15,7"/></svg><input type="checkbox"></div><svg class="progress trans" width="44" height="44" aria-label="Progress"><circle class="progress-circle" cx="22" cy="22" r="17"><circle class="fill" cx="22" cy="22" r="17" pathLength="1"/></circle></svg></div>`;grid.appendChild(dayDiv);this.updateDayDisplay(i);}this.selectedDay=this.currentDay;}updateDayDisplay(day){const dayDiv=document.querySelector(`[data-day="${day}"]`);if(!dayDiv)return;const habitInput=dayDiv.querySelector('.habit-input');const checkbox=dayDiv.querySelector('.checkbox');const progress=dayDiv.querySelector('.progress-circle .fill');const habit=this.data.habits[day][0]||{};habitInput.value=habit.name||'';const completed=this.isCompleted(day);checkbox.setAttribute('aria-checked',completed);checkbox.classList.toggle('checked',completed);checkbox.querySelector('input').checked=completed;const progressVal=completed?1:0;progress.style.strokeDashoffset=110*(1-progressVal);habitInput.dataset.habitId=habit.id||'';}updateGridSelection(){document.querySelectorAll('.day').forEach((day,i)=>{day.classList.toggle('selected',i===this.selectedDay);});}bindEvents(){document.getElementById('newHabit').addEventListener('keypress',e=>{if(e.key==='Enter'&&e.target.value.trim()){this.addHabitToDay(this.selectedDay,e.target.value.trim());e.target.value='';}});document.getElementById('themeToggle').addEventListener('click',()=>{this.toggleTheme();});document.getElementById('resetWeek').addEventListener('click',()=>{this.showResetDialog();});document.getElementById('exportBtn').addEventListener('click',()=>{this.exportData();});document.getElementById('confirmReset').addEventListener('click',()=>{this.resetWeek();});document.getElementById('cancelReset').addEventListener('click',()=>{document.getElementById('confirmDialog').hidden=true;});document.addEventListener('keydown',e=>{this.handleKeydown(e);});document.getElementById('habitGrid').addEventListener('click',e=>{const day=e.target.closest('.day');if(day){this.selectedDay=parseInt(day.dataset.day);this.updateGridSelection();this.announce(`Selected ${this.days[this.selectedDay]} day`);}});document.getElementById('habitGrid').addEventListener('keydown',e=>{const day=e.target.closest('.day');if(day){this.handleDayKeydown(e,parseInt(day.dataset.day));}});}handleKeydown(e){switch(e.key){case'ArrowLeft':e.preventDefault();this.selectedDay=(this.selectedDay+6)%7;this.updateGridSelection();this.announce(`Moved to ${this.days[this.selectedDay]}`);break;case'ArrowRight':e.preventDefault();this.selectedDay=(this.selectedDay+1)%7;this.updateGridSelection();this.announce(`Moved to ${this.days[this.selectedDay]}`);break;case'z':if(e.ctrlKey||e.metaKey){e.preventDefault();if(e.shiftKey)this.redo();else this.undo();}break;}}handleDayKeydown(e,day){switch(e.key){case'Enter':case'Space':e.preventDefault();this.toggleHabit(day);break;case'Backspace':case'Delete':e.preventDefault();this.clearHabit(day);break;}}addHabitToDay(day,name){const existing=this.data.habits[day][0];if(existing&&existing.name.toLowerCase()===name.toLowerCase()){this.announce('Habit already exists');return;}const habit={id:`${day}-${Date.now()}`,name:name.trim()};this.data.habits[day]=[habit];this.saveData();this.updateDayDisplay(day);this.updateStats();this.announce(`Added "${name}" to ${this.days[day]}`);}toggleHabit(day){const habit=this.data.habits[day][0];if(!habit)return;this.data.completions[`${habit.id}-${this.getWeekKey()}`]=!this.isCompleted(day);this.saveData();this.updateDayDisplay(day);this.updateStats();this.announce(habit.name+(this.isCompleted(day)?' completed':' incomplete'));}isCompleted(day){const habit=this.data.habits[day][0];if(!habit)return false;return!!this.data.completions[`${habit.id}-${this.getWeekKey()}`];}clearHabit(day){this.data.habits[day]=[];delete this.data.completions[`${this.data.habits[day][0]?.id}-${this.getWeekKey()}`];this.saveData();this.updateDayDisplay(day);this.updateStats();this.announce('Habit cleared');}getWeekKey(){const now=new Date();now.setHours(0,0,0,0);now.setDate(now.getDate()-now.getDay());return now.toISOString().split('T')[0];}updateStats(){const weekKey=this.getWeekKey();let currentStreak=0,maxStreak=0;let weeklyComplete=0;for(let day=0;day<7;day++){const habit=this.data.habits[day][0];if(habit&&this.data.completions[`${habit.id}-${weekKey}`]){weeklyComplete++;currentStreak++;}else{currentStreak=0;}maxStreak=Math.max(maxStreak,currentStreak);}document.getElementById('currentStreak').textContent=currentStreak;document.getElementById('maxStreak').textContent=maxStreak;document.getElementById('weeklyPercent').textContent=Math.round((weeklyComplete/7)*100)+'%';}resetWeek(){document.getElementById('confirmDialog').hidden=true;Object.keys(this.data.completions).forEach(key=>{if(key.endsWith(this.getWeekKey()))delete this.data.completions[key];});this.saveData();this.buildGrid();this.updateStats();this.announce('Week reset');}exportData(){const dataStr=JSON.stringify(this.data,null,2);const dataBlob=new Blob([dataStr],{type:'application/json'});const url=URL.createObjectURL(dataBlob);const link=document.createElement('a');link.href=url;link.download='habit-tracker-backup.json';link.click();URL.revokeObjectURL(url);}undo(){if(this.undoStack.length===0)return;const prevState=this.undoStack.pop();this.redoStack.push(JSON.parse(JSON.stringify(this.data)));this.data=prevState;this.buildGrid();this.updateStats();this.announce('Undid last action');}redo(){if(this.redoStack.length===0)return;const nextState=this.redoStack.pop();this.undoStack.push(JSON.parse(JSON.stringify(this.data)));this.data=nextState;this.buildGrid();this.updateStats();this.announce('Redid last action');}setTheme(theme){document.body.dataset.theme=theme;document.getElementById('themeToggle').textContent=theme==='dark'?'â˜€ï¸':'ðŸŒ™';this.data.theme=theme;this.saveData();}toggleTheme(){const nextTheme=this.data.theme==='dark'?'light':'dark';this.setTheme(nextTheme);}showResetDialog(){document.getElementById('confirmDialog').hidden=false;document.getElementById('confirmDialog').focus();}announce(message){const announce=document.getElementById('liveAnnounce');announce.textContent=message;setTimeout(()=>{announce.textContent='';},3000);}}const tracker=new HabitTracker();
window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change',e=>{if(tracker.data.theme==='system')tracker.setTheme(e.matches?'dark':'light');});</script>
</body>
</html>