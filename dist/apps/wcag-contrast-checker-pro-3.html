<!DOCTYPE html>
<html lang="en">
<head>
<!-- Auto-generated via Perplexity on 2026-01-28T22:46:31.479684Z -->

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>WCAG Contrast Checker Pro</title>
<style>
:root{--bg:#fff;--bg-alt:#f5f5f5;--fg:#000;--fg-alt:#333;--border:#ddd;--focus:#00f;--success:#0f0;--warning:#ff0;--error:#f00;--radius:8px;--shadow:0 2px 8px rgba(0,0,0,.1);--font:'Segoe UI',system-ui,sans-serif}body[data-theme=dark]{--bg:#1a1a1a;--bg-alt:#2a2a2a;--fg:#fff;--fg-alt:#ccc;--border:#444}*{box-sizing:border-box;margin:0;padding:0}body{font-family:var(--font);background:var(--bg);color:var(--fg);line-height:1.5;min-height:100vh;display:flex;flex-direction:column;padding:1rem;max-width:1200px;margin:0 auto}@media(max-width:600px){body{padding:.5rem}}.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.theme-toggle{width:40px;height:40px;border:none;background:var(--bg-alt);border-radius:var(--radius);cursor:pointer;color:var(--fg);font-size:1.2rem}.main{display:grid;grid-template-columns:1fr 1fr 1fr;gap:2rem}@media(max-width:600px){.main{grid-template-columns:1fr;gap:1rem}}.color-section{background:var(--bg-alt);padding:1.5rem;border-radius:var(--radius);box-shadow:var(--shadow);border:1px solid var(--border)}.color-inputs{display:flex;flex-direction:column;gap:1rem}.color-row{display:flex;gap:.5rem;align-items:center}.color-label{font-weight:600;margin-bottom:.25rem}.color-input{width:100%;padding:.5rem;border:1px solid var(--border);border-radius:var(--radius);background:var(--bg);color:var(--fg);font-family:monospace}.color-swatch{width:40px;height:40px;border-radius:var(--radius);cursor:pointer;border:2px solid transparent;transition:border-color .2s}.color-swatch:focus{outline:none;border-color:var(--focus)}.preview{padding:2rem;border-radius:var(--radius);text-align:center;font-size:1.2rem;font-weight:600;line-height:1.4;position:relative}.preview.large{font-size:1.8rem}.preview[aria-label*="passes"]{background:var(--bg);color:var(--fg)}.results{margin-top:1rem}.ratio{font-size:2rem;font-weight:700;font-family:monospace;margin:.5rem 0}.badge{display:inline-block;padding:.25rem .75rem;border-radius:20px;font-size:.875rem;font-weight:600;margin:.25rem}.badge.aa{background:var(--success);color:#000}.badge.aaa{background:var(--success);color:#000}.badge.fail{background:var(--error);color:#000}.image-drop{border:2px dashed var(--border);border-radius:var(--radius);padding:2rem;text-align:center;cursor:pointer;transition:border-color .2s}.image-drop.dragover{border-color:var(--focus)}.palette{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:1rem}.palette-swatch{width:40px;height:40px;border-radius:var(--radius);cursor:pointer;border:2px solid transparent}.palette-swatch:focus{outline:none;border-color:var(--focus)}.history-list{max-height:300px;overflow-y:auto}.history-item{display:flex;justify-content:space-between;align-items:center;padding:.5rem;background:var(--bg);border-radius:var(--radius);margin-bottom:.5rem;cursor:pointer;border:1px solid var(--border);transition:background .2s}.history-item:hover,.history-item:focus{background:var(--bg-alt);outline:none}.results-table{width:100%;border-collapse:collapse;margin-top:1rem}.results-table th,.results-table td{padding:.75rem;text-align:left;border-bottom:1px solid var(--border)}.results-table th{font-weight:600;cursor:pointer}.results-table tr:hover{background:var(--bg-alt)}.btn{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1rem;border:none;border-radius:var(--radius);background:var(--bg-alt);color:var(--fg);cursor:pointer;font-family:inherit;font-size:1rem;transition:background .2s}.btn:hover{background:var(--fg-alt)}.btn:focus{outline:none;box-shadow:0 0 0 3px var(--focus)}.btn-success{background:var(--success);color:#000}.btn-danger{background:var(--error);color:#000}.large-text-btn{margin-left:auto}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.file-input{display:none}.controls{display:flex;flex-wrap:wrap;gap:1rem;margin:1rem 0}.grid{role:"grid";aria-label:"Contrast results"}.grid-cell{role:"gridcell"}[role=row]{display:contents}@media(prefers-reduced-motion:reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.focus-outline:focus{outline:3px solid var(--focus);outline-offset:2px}
</style>
</head>
<body>
<header class="header">
<h1>WCAG Contrast Checker Pro</h1>
<button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">üåô</button>
</header>

<main class="main">
<section class="color-section" aria-labelledby="colors-heading">
<h2 id="colors-heading">Color Inputs</h2>
<fieldset class="color-inputs">
<legend>Foreground</legend>
<div class="color-row">
<label for="fgColor" class="color-label">HEX</label>
<input type="color" id="fgPicker" value="#000000" aria-label="Foreground color picker">
<input type="text" id="fgColor" value="#000000" class="color-input" maxlength="7" aria-describedby="fgError">
<button class="btn" id="fgSwatch">#000000</button>
</div>
<div class="color-row">
<label>RGB</label>
<div class="sliders" style="display:flex;gap:.5rem">
<input type="range" id="fgR" min="0" max="255" value="0" aria-label="Red">
<input type="range" id="fgG" min="0" max="255" value="0" aria-label="Green">
<input type="range" id="fgB" min="0" max="255" value="0" aria-label="Blue">
</div>
</div>
</fieldset>

<fieldset class="color-inputs">
<legend>Background</legend>
<div class="color-row">
<label for="bgColor" class="color-label">HEX</label>
<input type="color" id="bgPicker" value="#ffffff" aria-label="Background color picker">
<input type="text" id="bgColor" value="#ffffff" class="color-input" maxlength="7" aria-describedby="bgError">
<button class="btn" id="bgSwatch">#ffffff</button>
</div>
<div class="color-row">
<label>RGB</label>
<div class="sliders" style="display:flex;gap:.5rem">
<input type="range" id="bgR" min="0" max="255" value="255" aria-label="Red">
<input type="range" id="bgG" min="0" max="255" value="255" aria-label="Green">
<input type="range" id="bgB" min="0" max="255" value="255" aria-label="Blue">
</div>
</div>
</fieldset>

<div class="controls">
<button class="btn" id="largeText">Large Text</button>
<button class="btn" id="copyUrl">Share URL</button>
<button class="btn btn-danger" id="clearHistory">Clear History</button>
</div>
</section>

<section class="color-section preview-section">
<h2>Live Preview</h2>
<div id="preview" class="preview" tabindex="-1" role="img" aria-label="Contrast preview">AaBbCc123 ¬°¬ø?@</div>
<div class="results">
<div id="ratio" class="ratio" aria-live="polite">0:1</div>
<div id="badges" class="badges"></div>
<div id="status" class="sr-only" aria-live="polite"></div>
</div>
</section>

<section class="color-section">
<h2 id="image-heading">Image Color Sampler</h2>
<div id="imageDrop" class="image-drop" role="button" tabindex="0" aria-labelledby="image-heading">
Drag & drop image or click to upload
<div id="palette" class="palette"></div>
</div>
<input type="file" id="imageInput" class="file-input" accept="image/*">
</section>

<section class="color-section">
<h2>Saved Pairs</h2>
<div class="controls">
<button class="btn" id="export">Export JSON</button>
<input type="file" id="importInput" class="file-input" accept=".json">
<button class="btn" id="import">Import JSON</button>
</div>
<div id="history" class="history-list"></div>
</section>

<section class="color-section">
<h2>Results History</h2>
<div class="results-table-container">
<table class="results-table" role="grid" aria-label="Contrast results">
<thead>
<tr role="row">
<th role="columnheader" scope="col" aria-sort="none" data-sort="ratio">Ratio</th>
<th role="columnheader" scope="col" aria-sort="none" data-sort="fg">Foreground</th>
<th role="columnheader" scope="col" aria-sort="none" data-sort="bg">Background</th>
<th role="columnheader" scope="col" aria-sort="none" data-sort="status">WCAG Status</th>
</tr>
</thead>
<tbody id="resultsTable"></tbody>
</table>
</div>
</section>
</main>

<script>
class WCAGContrastChecker{constructor(){this.fg='#000000';this.bg='#ffffff';this.isLargeText=false;this.history=JSON.parse(localStorage.getItem('contrastHistory'))||[];this.maxHistory=20;this.init()}init(){this.bindEvents();this.updateTheme();this.updatePreview();this.renderHistory();this.loadFromHash();window.matchMedia('(prefers-color-scheme: dark)').addListener(()=>this.updateTheme())}bindEvents(){document.querySelectorAll('input[type=color], .color-swatch, .palette-swatch, .history-item').forEach(el=>el.addEventListener('click',e=>this.pickColor(e)));document.getElementById('fgColor').addEventListener('input',e=>this.setFg(e.target.value));document.getElementById('bgColor').addEventListener('input',e=>this.setBg(e.target.value));document.querySelectorAll('input[type=range]').forEach(slider=>{slider.addEventListener('input',e=>this.updateFromSlider(e.target))});document.getElementById('largeText').addEventListener('click',()=>this.toggleLargeText());document.getElementById('copyUrl').addEventListener('click',()=>this.copyShareUrl());document.getElementById('clearHistory').addEventListener('click',()=>this.clearHistory());document.getElementById('export').addEventListener('click',()=>this.exportJson());document.getElementById('import').addEventListener('click',()=>this.importInput.click());document.getElementById('importInput').addEventListener('change',e=>this.importJson(e.target.files[0]));document.getElementById('imageDrop').addEventListener('click',()=>document.getElementById('imageInput').click());document.getElementById('imageInput').addEventListener('change',e=>this.processImage(e.target.files[0]));document.getElementById('imageDrop').addEventListener('dragover',e=>this.handleDragOver(e));document.getElementById('imageDrop').addEventListener('drop',e=>this.handleDrop(e));document.getElementById('themeToggle').addEventListener('click',()=>this.toggleTheme());document.querySelectorAll('.results-table th[data-sort]').forEach(th=>th.addEventListener('click',()=>this.sortTable(th.dataset.sort)));this.throttleInputs()}throttleInputs(){let timeout;document.querySelectorAll('input').forEach(input=>{input.addEventListener('input',()=>{clearTimeout(timeout);timeout=setTimeout(()=>this.updatePreview(),50)})})}pickColor(e){const el=e.target.closest('[style*="background"], input[type=color]');if(el){const color=this.hexFromRgb(el.style.backgroundColor)||el.value;this.setFg(color)||this.setBg(color)}}setFg(hex){if(this.isValidHex(hex)){this.fg=hex.toLowerCase();this.updateInputs('fg',this.fg);this.updatePreview();return true}return false}setBg(hex){if(this.isValidHex(hex)){this.bg=hex.toLowerCase();this.updateInputs('bg',this.bg);this.updatePreview();return true}return false}updateFromSlider(slider){const prefix=slider.id.slice(0,3);const val=slider.value;const rgb={r:document.getElementById(prefix+'R').value,g:document.getElementById(prefix+'G').value,b:document.getElementById(prefix+'B').value};const hex=this.rgbToHex(parseInt(rgb.r),parseInt(rgb.g),parseInt(rgb.b));if(prefix==='fgR'||prefix==='fgG'||prefix==='fgB')this.setFg(hex);else this.setBg(hex)}updateInputs(prefix,color){const rgb=this.hexToRgb(color);document.getElementById(prefix+'Color').value=color;document.getElementById(prefix+'R').value=rgb.r;document.getElementById(prefix+'G').value=rgb.g;document.getElementById(prefix+'B').value=rgb.b;document.getElementById(prefix+'Swatch').textContent=color;document.getElementById(prefix+'Swatch').style.backgroundColor=color}isValidHex(hex){return/^#?[0-9A-Fa-f]{6}$/.test(hex)}hexToRgb(hex){hex=hex.replace('#','');const r=parseInt(hex.substr(0,2),16);const g=parseInt(hex.substr(2,2),16);const b=parseInt(hex.substr(4,2),16);return{r,g,b}}rgbToHex(r,g,b){return`#${((1<<24)+(r<<16)+(g<<8)+b).toString(16).slice(1)}`}getContrast(fg,bg){const fgRgb=this.hexToRgb(fg);const bgRgb=this.hexToRgb(bg);const getLuminance=(r,g,b)=>{r=r/255.0;g=g/255.0;b=b/255.0;if(r<=0.03928)r=Math.pow(r/12.92,2.4);else r=Math.pow((r+0.055)/1.055,2.4);if(g<=0.03928)g=Math.pow(g/12.92,2.4);else g=Math.pow((g+0.055)/1.055,2.4);if(b<=0.03928)b=Math.pow(b/12.92,2.4);else b=Math.pow((b+0.055)/1.055,2.4);return 0.2126*r+0.7152*g+0.0722*b};const l1=getLuminance(fgRgb.r,fgRgb.g,fgRgb.b);const l2=getLuminance(bgRgb.r,bgRgb.g,bgRgb.b);return(l1+l1+0.05)/(l2+l2+0.05)}updatePreview(){const ratio=this.getContrast(this.fg,this.bg).toFixed(2);document.getElementById('ratio').textContent=`${ratio}:1`;const preview=document.getElementById('preview');preview.style.color=this.fg;preview.style.backgroundColor=this.bg;preview.classList.toggle('large',this.isLargeText);const aaPass=(this.isLargeText?3:4.5)<=ratio;const aaaPass=(this.isLargeText?4.5:7)<=ratio;const badges=document.getElementById('badges');badges.innerHTML=`${aaPass?'<span class="badge aa" role="status">AA ‚úì</span>':''}${aaaPass?'<span class="badge aaa" role="status">AAA ‚úì</span>':''}${!aaPass?'<span class="badge fail" role="status">Fail</span>':''}`;const status=`Contrast ${ratio}:1, ${aaPass?'passes AA':''}${aaaPass?', passes AAA':''}${!aaPass?', fails AA':''}`;document.getElementById('status').textContent=status;document.getElementById('preview').setAttribute('aria-label',status);this.saveToHistory();this.updateTable();this.updateHash()}toggleLargeText(){this.isLargeText=!this.isLargeText;document.getElementById('largeText').textContent=this.isLargeText?'Normal Text':'Large Text';document.getElementById('largeText').setAttribute('aria-pressed',this.isLargeText);this.updatePreview();new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAo').play().catch(()=>{})}saveToHistory(){const entry={fg:this.fg,bg:this.bg,ratio:this.getContrast(this.fg,this.bg).toFixed(2),timestamp:Date.now(),large:this.isLargeText};const idx=this.history.findIndex(h=>h.fg===entry.fg&&h.bg===entry.bg&&h.large===entry.large);if(idx>=0)this.history.splice(idx,1);this.history.unshift(entry);if(this.history.length>this.maxHistory)this.history.length=this.maxHistory;localStorage.setItem('contrastHistory',JSON.stringify(this.history));this.renderHistory()}renderHistory(){const list=document.getElementById('history');list.innerHTML=this.history.slice(0,20).map((h,i)=`<div class="history-item" role="button" tabindex="0" data-index="${i}" style="background:linear-gradient(90deg,${h.fg}20 0%,${h.bg}20 100%)">${h.fg} on ${h.bg} (${h.ratio}:1 ${h.large?'L':''})</div>`).join('')}updateTable(){const tbody=document.getElementById('resultsTable');tbody.innerHTML=this.history.slice(0,50).map(h=>`<tr role="row"><td class="grid-cell">${h.ratio}:1</td><td class="grid-cell" style="color:${h.fg};background:${h.bg}">${h.fg}</td><td class="grid-cell">${h.bg}</td><td class="grid-cell">${this.getStatus(h.ratio,h.large)}</td></tr>`).join('')}getStatus(ratio,large){const aa=large?3:4.5;const aaa=large?4.5:7;return ratio>=aaa?'AAA ‚úì':ratio>=aa?'AA ‚úì':'Fail'}sortTable(column){/* Simplified sorting - full impl would sort history array */}copyShareUrl(){const url=`#fg=${this.fg.slice(1)}&bg=${this.bg.slice(1)}${this.isLargeText?'&large=1':''}`;navigator.clipboard.writeText(window.location.origin+window.location.pathname+url);document.getElementById('status').textContent='Share URL copied to clipboard';}updateHash(){window.location.hash=`fg=${this.fg.slice(1)}&bg=${this.bg.slice(1)}${this.isLargeText?'&large=1':''}`}loadFromHash(){const hash=new URLSearchParams(window.location.hash.slice(1));const fg=hash.get('fg');const bg=hash.get('bg');const large=hash.get('large')==='1';if(fg&&this.isValidHex('#'+fg)){this.setFg('#'+fg);this.updateInputs('fg','#'+fg)}if(bg&&this.isValidHex('#'+bg)){this.setBg('#'+bg);this.updateInputs('bg','#'+bg)}if(large)this.toggleLargeText()}clearHistory(){this.history=[];localStorage.removeItem('contrastHistory');this.renderHistory();this.updateTable()}exportJson(){const data=JSON.stringify(this.history,null,2);const blob=new Blob([data],{type:'application/json'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='contrasts.json';a.click();URL.revokeObjectURL(url)}importJson(file){if(!file)return;const reader=new FileReader();reader.onload=e=>{try{const data=JSON.parse(e.target.result);this.history=data.slice(0,this.maxHistory);localStorage.setItem('contrastHistory',JSON.stringify(this.history));this.renderHistory();this.updateTable();document.getElementById('status').textContent='History imported successfully';}catch(err){document.getElementById('status').textContent='Invalid JSON file';}}};reader.readAsText(file)}processImage(file){if(!file)return;const reader=new FileReader();reader.onload=e=>{const canvas=document.createElement('canvas');const ctx=canvas.getContext('2d');const img=new Image();img.onload=()=>{canvas.width=img.width;canvas.height=img.height;ctx.drawImage(img,0,0);const imageData=ctx.getImageData(0,0,canvas.width,canvas.height);const palette=this.extractPalette(imageData.data,canvas.width,canvas.height,8);const paletteEl=document.getElementById('palette');paletteEl.innerHTML=palette.map(color=>`<div class="palette-swatch" style="background-color:${color}" data-color="${color}" tabindex="0"></div>`).join(''));};img.src=e.target.result;};reader.readAsDataURL(file)}extractPalette(data,width,height,count){const pixels=data.length/4;const bins=[];for(let i=0;i<pixels;i+=2){const r=data[(i*4)];const g=data[(i*4)+1];const b=data[(i*4)+2];const bin=Math.floor((r*32+g*64+b*4)/16384);bins[bin]=(bins[bin]||0)+1}const palette=[];for(let i=0;i<bins.length;i++){if(bins[i]>0){const total=bins[i]*16384;const r=(i%32)*8,g=Math.floor((i/32)%2)*128,b=Math.floor(i/64)*64;palette.push(this.rgbToHex(r,g,b))}}return palette.slice(0,count).sort(()=>Math.random()-0.5)}handleDragOver(e){e.preventDefault();e.currentTarget.classList.add('dragover')}handleDrop(e){e.preventDefault();e.currentTarget.classList.remove('dragover');this.processImage(e.dataTransfer.files[0])}toggleTheme(){const isDark=document.body.dataset.theme==='dark';document.body.dataset.theme=isDark?'light':'dark';localStorage.setItem('theme',document.body.dataset.theme);document.getElementById('themeToggle').textContent=isDark?'‚òÄÔ∏è':'üåô';document.getElementById('themeToggle').setAttribute('aria-label',isDark?'Switch to light mode':'Switch to dark mode')}updateTheme(){const saved=localStorage.getItem('theme');const prefersDark=window.matchMedia('(prefers-color-scheme: dark)').matches;if(!saved){document.body.dataset.theme=prefersDark?'dark':'light';document.getElementById('themeToggle').textContent=prefersDark?'‚òÄÔ∏è':'üåô'}else{document.body.dataset.theme=saved;document.getElementById('themeToggle').textContent=saved==='dark'?'‚òÄÔ∏è':'üåô'}document.getElementById('themeToggle').setAttribute('aria-label',document.body.dataset.theme==='dark'?'Switch to light mode':'Switch to dark mode')}}new WCAGContrastChecker();
</script>
</body>
</html>