<!DOCTYPE html>
<html lang="en">
<head>
<!-- Auto-generated via Perplexity on 2026-02-12T19:19:41.317055Z -->

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice Quick</title>
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --text-primary: #1a1a1a;
            --text-secondary: #6c757d;
            --border: #dee2e6;
            --primary: #007bff;
            --success: #28a745;
            --danger: #dc3545;
            --shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        [data-theme="dark"] {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --text-primary: #ffffff;
            --text-secondary: #adb5bd;
            --border: #495057;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-secondary);
            color: var(--text-primary);
            line-height: 1.6;
            padding: 1rem;
            min-height: 100vh;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        header { text-align: center; margin-bottom: 2rem; }
        .theme-toggle { position: absolute; top: 1rem; right: 1rem; background: none; border: 1px solid var(--border); border-radius: 50%; width: 50px; height: 50px; cursor: pointer; }
        nav { display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap; }
        .nav-btn { flex: 1; min-width: 120px; padding: 0.75rem; background: var(--primary); color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 1rem; }
        .nav-btn.active { background: var(--success); }
        .section { display: none; background: var(--bg-primary); border-radius: 12px; padding: 2rem; box-shadow: var(--shadow); }
        .section.active { display: block; }
        .form-group { margin-bottom: 1.5rem; }
        label { display: block; margin-bottom: 0.5rem; font-weight: 600; }
        input, select, textarea { width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px; font-size: 1rem; }
        .row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
        @media (max-width: 768px) { .row { grid-template-columns: 1fr; } }
        .line-items { margin: 2rem 0; }
        .line-item { display: grid; grid-template-columns: 2fr 1fr 1fr 80px; gap: 1rem; margin-bottom: 1rem; align-items: center; }
        @media (max-width: 768px) { .line-item { grid-template-columns: 2fr 1fr 1fr 80px; font-size: 0.9rem; } }
        .line-item input { padding: 0.5rem; }
        .remove-item { background: var(--danger); color: white; border: none; border-radius: 4px; padding: 0.5rem; cursor: pointer; width: 100%; height: 100%; }
        .totals { background: var(--bg-secondary); padding: 1.5rem; border-radius: 8px; margin-top: 2rem; }
        .total-row { display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 1.1rem; }
        .total-row.final { font-size: 1.5rem; font-weight: bold; border-top: 2px solid var(--border); padding-top: 1rem; }
        .actions { display: flex; gap: 1rem; margin-top: 2rem; flex-wrap: wrap; }
        .btn { padding: 0.75rem 1.5rem; border: none; border-radius: 6px; cursor: pointer; font-size: 1rem; flex: 1; min-width: 120px; }
        .btn-primary { background: var(--primary); color: white; }
        .btn-success { background: var(--success); color: white; }
        .btn-danger { background: var(--danger); color: white; }
        .invoice-preview { background: white; padding: 2rem; border-radius: 8px; box-shadow: var(--shadow); margin-top: 1rem; }
        .invoice-header { display: flex; justify-content: space-between; margin-bottom: 2rem; }
        .invoice-items { margin: 2rem 0; }
        .invoice-item { display: grid; grid-template-columns: 3fr 1fr 1fr; gap: 1rem; margin-bottom: 0.5rem; }
        .invoice-totals { margin-top: 2rem; }
        .invoice-total-row { display: flex; justify-content: space-between; margin-bottom: 0.5rem; }
        .invoice-total-row.final { font-size: 1.4rem; font-weight: bold; border-top: 2px solid; padding-top: 1rem; }
        .list-view { max-height: 60vh; overflow-y: auto; }
        .invoice-card { background: var(--bg-primary); border: 1px solid var(--border); border-radius: 8px; padding: 1.5rem; margin-bottom: 1rem; cursor: pointer; transition: all 0.2s; }
        .invoice-card:hover { box-shadow: var(--shadow); transform: translateY(-2px); }
        .invoice-card.selected { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(0,123,255,0.1); }
        .invoice-meta { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; font-size: 0.9rem; color: var(--text-secondary); }
        .invoice-actions { display: flex; gap: 0.5rem; }
        .list-actions { display: flex; gap: 1rem; margin-top: 1rem; }
        @media print { body * { visibility: hidden; } .invoice-preview, .invoice-preview * { visibility: visible; } .invoice-preview { position: absolute; left: 0; top: 0; width: 100%; box-shadow: none; } }
        .hidden { display: none; }
        [contenteditable]:focus { outline: 2px solid var(--primary); }
    </style>
</head>
<body>
    <div class="container">
        <button class="theme-toggle" aria-label="Toggle theme" title="Toggle dark/light mode">ðŸŒ™</button>
        <header>
            <h1>Invoice Quick</h1>
            <p>Simple invoice generator for small businesses</p>
        </header>
        
        <nav role="tablist">
            <button class="nav-btn active" data-tab="editor" tabindex="0">New Invoice</button>
            <button class="nav-btn" data-tab="list" tabindex="-1">Saved Invoices</button>
        </nav>

        <main>
            <!-- Editor Section -->
            <section id="editor" class="section active" role="tabpanel">
                <form id="invoiceForm">
                    <div class="row">
                        <div class="form-group">
                            <label for="clientName">Client Name</label>
                            <input type="text" id="clientName" required>
                        </div>
                        <div class="form-group">
                            <label for="invoiceNumber">Invoice #</label>
                            <input type="text" id="invoiceNumber" required>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group">
                            <label for="invoiceDate">Date</label>
                            <input type="date" id="invoiceDate" required>
                        </div>
                        <div class="form-group">
                            <label for="taxRate">Tax Rate (%)</label>
                            <input type="number" id="taxRate" min="0" max="100" step="0.1" value="0">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="notes">Notes</label>
                        <textarea id="notes" rows="3"></textarea>
                    </div>
                    
                    <div class="line-items">
                        <h3>Line Items</h3>
                        <div id="lineItems"></div>
                        <button type="button" class="btn btn-primary" id="addItem">+ Add Item</button>
                    </div>
                    
                    <div class="totals">
                        <div class="total-row"><span>Subtotal</span><span id="subtotal">$0.00</span></div>
                        <div class="total-row"><span>Tax</span><span id="tax">$0.00</span></div>
                        <div class="total-row final"><span>Total</span><span id="total">$0.00</span></div>
                    </div>
                    
                    <div class="actions">
                        <button type="button" class="btn btn-success" id="previewBtn">Preview</button>
                        <button type="button" class="btn btn-primary" id="saveBtn">Save Invoice</button>
                        <button type="button" class="btn btn-primary" id="exportBtn">Export</button>
                    </div>
                </form>
                
                <div id="preview" class="hidden">
                    <div class="invoice-preview" id="previewContent"></div>
                    <div class="actions">
                        <button class="btn btn-primary" onclick="print()">Print to PDF</button>
                        <button class="btn btn-success" id="saveFromPreview">Save</button>
                        <button class="btn btn-primary" id="editFromPreview">Edit</button>
                    </div>
                </div>
            </section>

            <!-- List Section -->
            <section id="list" class="section" role="tabpanel">
                <div class="list-view" id="invoiceList" tabindex="0"></div>
                <div class="list-actions">
                    <button class="btn btn-primary" id="newInvoiceBtn">New Invoice</button>
                    <button class="btn btn-success" id="duplicateBtn" disabled>Duplicate</button>
                    <button class="btn btn-danger" id="deleteBtn" disabled>Delete</button>
                </div>
            </section>
        </main>
    </div>

    <script>
        class InvoiceApp {
            constructor() {
                this.currentInvoice = {
                    id: Date.now().toString(),
                    clientName: '',
                    invoiceNumber: '',
                    invoiceDate: new Date().toISOString().split('T')[0],
                    taxRate: 0,
                    lineItems: [],
                    notes: '',
                    subtotal: 0,
                    tax: 0,
                    total: 0,
                    created: new Date().toISOString()
                };
                this.selectedInvoiceId = null;
                this.init();
            }

            init() {
                this.loadTheme();
                this.loadInvoices();
                this.bindEvents();
                this.setNextInvoiceNumber();
                this.renderLineItems();
                this.updateCalculations();
                document.getElementById('invoiceDate').value = this.currentInvoice.invoiceDate;
            }

            loadTheme() {
                const savedTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
                document.documentElement.setAttribute('data-theme', savedTheme);
                document.querySelector('.theme-toggle').textContent = savedTheme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
            }

            toggleTheme() {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                document.documentElement.setAttribute('data-theme', newTheme);
                document.querySelector('.theme-toggle').textContent = newTheme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
                localStorage.setItem('theme', newTheme);
            }

            bindEvents() {
                // Theme toggle
                document.querySelector('.theme-toggle').addEventListener('click', () => this.toggleTheme());

                // Navigation
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => this.switchTab(e.target.dataset.tab));
                    btn.addEventListener('keydown', (e) => { if (e.key === 'Enter') this.switchTab(e.target.dataset.tab); });
                });

                // Form inputs
                ['clientName', 'invoiceNumber', 'invoiceDate', 'taxRate', 'notes'].forEach(id => {
                    document.getElementById(id).addEventListener('input', () => this.updateCurrentInvoice(id));
                });

                // Line items
                document.getElementById('addItem').addEventListener('click', () => this.addLineItem());
                document.addEventListener('keydown', (e) => {
                    if (e.target.matches('.line-item input') && e.key === 'Enter') {
                        e.preventDefault();
                        this.addLineItem();
                    }
                });

                // Buttons
                document.getElementById('previewBtn').addEventListener('click', () => this.showPreview());
                document.getElementById('saveBtn').addEventListener('click', () => this.saveInvoice());
                document.getElementById('exportBtn').addEventListener('click', () => this.copyToClipboard());
                document.getElementById('saveFromPreview').addEventListener('click', () => this.saveInvoice());
                document.getElementById('editFromPreview').addEventListener('click', () => this.hidePreview());

                // List actions
                document.getElementById('newInvoiceBtn').addEventListener('click', () => this.switchTab('editor'));
                document.getElementById('duplicateBtn').addEventListener('click', () => this.duplicateInvoice());
                document.getElementById('deleteBtn').addEventListener('click', () => this.deleteInvoice());

                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    if (e.ctrlKey && e.key === 's') { e.preventDefault(); this.saveInvoice(); }
                    if (e.ctrlKey && e.key === 'p') { e.preventDefault(); window.print(); }
                    if (e.target.closest('#list') && (e.key === 'ArrowDown' || e.key === 'ArrowUp')) {
                        this.navigateList(e.key);
                    }
                });

                // List selection
                document.getElementById('invoiceList').addEventListener('click', (e) => {
                    if (e.target.closest('.invoice-card')) this.selectInvoice(e.target.closest('.invoice-card').dataset.id);
                });
            }

            switchTab(tab) {
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
                document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                document.querySelector(`#${tab}`).classList.add('active');
                document.querySelector(`[data-tab="${tab}"]`).classList.add('active');
                if (tab === 'list') this.renderInvoiceList();
            }

            updateCurrentInvoice(field) {
                this.currentInvoice[field] = document.getElementById(field).value;
                this.updateCalculations();
            }

            addLineItem() {
                const item = {
                    id: Date.now().toString(),
                    description: '',
                    quantity: 1,
                    unitPrice: 0
                };
                this.currentInvoice.lineItems.push(item);
                this.renderLineItems();
            }

            removeLineItem(id) {
                this.currentInvoice.lineItems = this.currentInvoice.lineItems.filter(item => item.id !== id);
                this.renderLineItems();
                this.updateCalculations();
            }

            updateLineItem(id, field, value) {
                const item = this.currentInvoice.lineItems.find(item => item.id === id);
                if (item) item[field] = field === 'quantity' || field === 'unitPrice' ? parseFloat(value) || 0 : value;
                this.updateCalculations();
            }

            renderLineItems() {
                const container = document.getElementById('lineItems');
                container.innerHTML = this.currentInvoice.lineItems.map(item => `
                    <div class="line-item">
                        <input type="text" value="${item.description}" placeholder="Description" 
                               onchange="app.updateLineItem('${item.id}', 'description', this.value)"
                               onkeydown="if(event.key==='Enter') this.blur()">
                        <input type="number" value="${item.quantity}" min="0" step="0.1" placeholder="Qty"
                               onchange="app.updateLineItem('${item.id}', 'quantity', this.value)"
                               onkeydown="if(event.key==='Enter') this.blur()">
                        <input type="number" value="${item.unitPrice}" min="0" step="0.01" placeholder="Unit Price"
                               onchange="app.updateLineItem('${item.id}', 'unitPrice', this.value)"
                               onkeydown="if(event.key==='Enter') this.blur()">
                        <button class="remove-item" onclick="app.removeLineItem('${item.id}')" aria-label="Remove item">Ã—</button>
                    </div>
                `).join('');
            }

            updateCalculations() {
                const subtotal = this.currentInvoice.lineItems.reduce((sum, item) => sum + (item.quantity * item.unitPrice), 0);
                const tax = subtotal * (this.currentInvoice.taxRate / 100);
                const total = subtotal + tax;

                this.currentInvoice.subtotal = subtotal;
                this.currentInvoice.tax = tax;
                this.currentInvoice.total = total;

                document.getElementById('subtotal').textContent = `$${subtotal.toFixed(2)}`;
                document.getElementById('tax').textContent = `$${tax.toFixed(2)}`;
                document.getElementById('total').textContent = `$${total.toFixed(2)}`;
            }

            setNextInvoiceNumber() {
                const invoices = JSON.parse(localStorage.getItem('invoices') || '[]');
                const numbers = invoices.map(inv => parseInt(inv.invoiceNumber) || 0).filter(n => n > 0);
                const next = numbers.length ? Math.max(...numbers) + 1 : 1;
                document.getElementById('invoiceNumber').value = next.toString();
                this.currentInvoice.invoiceNumber = next.toString();
            }

            showPreview() {
                const preview = document.getElementById('previewContent');
                preview.innerHTML = `
                    <div class="invoice-header">
                        <div>
                            <h2>INVOICE #${this.currentInvoice.invoiceNumber}</h2>
                            <p>Date: ${new Date(this.currentInvoice.invoiceDate).toLocaleDateString()}</p>
                        </div>
                        <div style="text-align: right;">
                            <h3>${this.currentInvoice.clientName}</h3>
                        </div>
                    </div>
                    <div class="invoice-items">
                        <div class="invoice-item" style="font-weight: bold; border-bottom: 2px solid;">
                            <span>Description</span><span>Qty</span><span>Price</span>
                        </div>
                        ${this.currentInvoice.lineItems.map(item => `
                            <div class="invoice-item">
                                <span>${item.description || 'N/A'}</span>
                                <span>${item.quantity}</span>
                                <span>$${item.unitPrice.toFixed(2)}</span>
                            </div>
                        `).join('')}
                    </div>
                    <div class="invoice-totals">
                        <div class="invoice-total-row"><span>Subtotal:</span><span>$${this.currentInvoice.subtotal.toFixed(2)}</span></div>
                        <div class="invoice-total-row"><span>Tax (${this.currentInvoice.taxRate}%):</span><span>$${this.currentInvoice.tax.toFixed(2)}</span></div>
                        <div class="invoice-total-row final"><span>TOTAL:</span><span>$${this.currentInvoice.total.toFixed(2)}</span></div>
                    </div>
                    ${this.currentInvoice.notes ? `<div style="margin-top: 2rem;"><strong>Notes:</strong> ${this.currentInvoice.notes}</div>` : ''}
                `;
                document.getElementById('preview').classList.remove('hidden');
                document.getElementById('invoiceForm').classList.add('hidden');
            }

            hidePreview() {
                document.getElementById('preview').classList.add('hidden');
                document.getElementById('invoiceForm').classList.remove('hidden');
            }

            saveInvoice() {
                const invoices = this.loadInvoices();
                this.currentInvoice.updated = new Date().toISOString();
                invoices.push({...this.currentInvoice});
                localStorage.setItem('invoices', JSON.stringify(invoices));
                this.setNextInvoiceNumber();
                alert('Invoice saved!');
            }

            loadInvoices() {
                return JSON.parse(localStorage.getItem('invoices') || '[]');
            }

            renderInvoiceList() {
                const invoices = this.loadInvoices();
                const container = document.getElementById('invoiceList');
                if (!invoices.length) {
                    container.innerHTML = '<p style="text-align: center; color: var(--text-secondary);">No invoices yet. Create one above!</p>';
                    return;
                }
                container.innerHTML = invoices.map(inv => `
                    <div class="invoice-card" data-id="${inv.id}" tabindex="0">
                        <div class="invoice-meta">
                            <span>#${inv.invoiceNumber} - ${inv.clientName}</span>
                            <span>${new Date(inv.created).toLocaleDateString()}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <strong>$${inv.total.toFixed(2)}</strong>
                            <div class="invoice-actions">
                                <button class="btn" onclick="app.selectInvoice('${inv.id}'); event.stopPropagation()">View</button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            selectInvoice(id) {
                this.selectedInvoiceId = id;
                document.querySelectorAll('.invoice-card').forEach(card => card.classList.remove('selected'));
                document.querySelector(`[data-id="${id}"]`).classList.add('selected');
                document.getElementById('duplicateBtn').disabled = false;
                document.getElementById('deleteBtn').disabled = false;
                this.loadInvoice(id);
            }

            loadInvoice(id) {
                const invoices = this.loadInvoices();
                const invoice = invoices.find(inv => inv.id === id);
                if (invoice) {
                    Object.assign(this.currentInvoice, invoice);
                    document.getElementById('clientName').value = invoice.clientName;
                    document.getElementById('invoiceNumber').value = invoice.invoiceNumber;
                    document.getElementById('invoiceDate').value = invoice.invoiceDate;
                    document.getElementById('taxRate').value = invoice.taxRate;
                    document.getElementById('notes').value = invoice.notes;
                    this.currentInvoice.lineItems = invoice.lineItems;
                    this.renderLineItems();
                    this.updateCalculations();
                    this.switchTab('editor');
                }
            }

            duplicateInvoice() {
                if (this.selectedInvoiceId) {
                    const invoices = this.loadInvoices();
                    const original = invoices.find(inv => inv.id === this.selectedInvoiceId);
                    if (original) {
                        const duplicate = { ...original, id: Date.now().toString(), invoiceNumber: '' };
                        invoices.push(duplicate);
                        localStorage.setItem('invoices', JSON.stringify(invoices));
                        this.switchTab('list');
                        this.renderInvoiceList();
                    }
                }
            }

            deleteInvoice() {
                if (this.selectedInvoiceId && confirm('Delete this invoice?')) {
                    const invoices = this.loadInvoices().filter(inv => inv.id !== this.selectedInvoiceId);
                    localStorage.setItem('invoices', JSON.stringify(invoices));
                    this.selectedInvoiceId = null;
                    document.getElementById('duplicateBtn').disabled = true;
                    document.getElementById('deleteBtn').disabled = true;
                    this.renderInvoiceList();
                }
            }

            navigateList(direction) {
                const selected = document.querySelector('.invoice-card.selected');
                const cards = Array.from(document.querySelectorAll('.invoice-card'));
                if (!selected) {
                    cards[0]?.focus();
                    return;
                }
                const currentIndex = cards.indexOf(selected);
                const nextIndex = direction === 'ArrowDown' ? Math.min(currentIndex + 1, cards.length - 1) : Math.max(currentIndex - 1, 0);
                cards[nextIndex].focus();
                this.selectInvoice(cards[nextIndex].dataset.id);
            }

            async copyToClipboard() {
                const text = `INVOICE #${this.currentInvoice.invoiceNumber}
Client: ${this.currentInvoice.clientName}
Date: ${new Date(this.currentInvoice.invoiceDate).toLocaleDateString()}

${this.currentInvoice.lineItems.map(item => `${item.description}: ${item.quantity} x $${item.unitPrice.toFixed(2)}`).join('\n')}

Subtotal: $${this.currentInvoice.subtotal.toFixed(2)}
Tax (${this.currentInvoice.taxRate}%): $${this.currentInvoice.tax.toFixed(2)}
TOTAL: $${this.currentInvoice.total.toFixed(2)}

Notes: ${this.currentInvoice.notes}`;
                
                try {
                    await navigator.clipboard.writeText(text);
                    alert('Invoice copied to clipboard!');
                } catch {
                    prompt('Copy this text:', text);
                }
            }
        }

        const app = new InvoiceApp();
    </script>
</body>
</html>