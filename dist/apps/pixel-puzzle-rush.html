<!DOCTYPE html>
<html lang="en">
<head>
<!-- Auto-generated via Perplexity on 2026-02-01T20:42:18.859150Z -->

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Puzzle Rush</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #ffffff;
            --text: #000000;
            --accent: #0066cc;
            --accent-light: #e6f0ff;
            --grid-bg: #f5f5f5;
            --border: #cccccc;
            --correct: #00cc00;
            --wrong: #ff3333;
            --pixel-revealed: #0066cc;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --bg: #1a1a1a;
                --text: #ffffff;
                --accent: #00ff88;
                --accent-light: #1a3a2a;
                --grid-bg: #2a2a2a;
                --border: #444444;
                --pixel-revealed: #00ff88;
            }
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg);
            color: var(--text);
            transition: background-color 0.3s, color 0.3s;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            position: sticky;
            top: 0;
            background-color: var(--bg);
            border-bottom: 2px solid var(--border);
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        h1 {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .streak {
            font-size: 0.9rem;
            background-color: var(--accent-light);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            color: var(--accent);
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .score-timer {
            display: flex;
            gap: 1.5rem;
            font-weight: 600;
        }

        .score-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.85rem;
        }

        .score-value {
            font-size: 1.5rem;
            color: var(--accent);
        }

        button {
            background-color: var(--accent);
            color: var(--bg);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: opacity 0.2s;
        }

        button:hover {
            opacity: 0.8;
        }

        button:active {
            transform: scale(0.98);
        }

        button:focus {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }

        .theme-toggle {
            width: 50px;
            height: 28px;
            background-color: var(--border);
            border-radius: 14px;
            position: relative;
            cursor: pointer;
            border: none;
            padding: 0;
        }

        .theme-toggle::after {
            content: '';
            position: absolute;
            width: 24px;
            height: 24px;
            background-color: var(--bg);
            border-radius: 50%;
            top: 2px;
            left: 2px;
            transition: left 0.3s;
        }

        .theme-toggle.dark::after {
            left: 24px;
        }

        main {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem 1rem;
        }

        .screen {
            display: none;
            width: 100%;
            max-width: 500px;
        }

        .screen.active {
            display: block;
        }

        .start-screen {
            text-align: center;
        }

        .start-screen h2 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            color: var(--accent);
        }

        .instructions {
            background-color: var(--accent-light);
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            text-align: left;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .instructions h3 {
            margin-bottom: 1rem;
            color: var(--accent);
        }

        .instructions ol {
            margin-left: 1.5rem;
        }

        .instructions li {
            margin-bottom: 0.5rem;
        }

        .game-screen {
            text-align: center;
        }

        .grid-container {
            margin: 2rem 0;
            display: inline-block;
        }

        .pixel-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 4px;
            background-color: var(--grid-bg);
            padding: 8px;
            border-radius: 8px;
            width: 200px;
            height: 200px;
        }

        .pixel {
            width: 100%;
            aspect-ratio: 1;
            background-color: var(--border);
            border-radius: 2px;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid var(--border);
        }

        .pixel.revealed {
            background-color: var(--pixel-revealed);
            box-shadow: 0 0 8px var(--accent);
            animation: pixelPop 0.3s ease-out;
        }

        @keyframes pixelPop {
            0% {
                transform: scale(0.5);
                opacity: 0;
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .input-section {
            margin: 2rem 0;
        }

        .input-section label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        input[type="text"] {
            width: 100%;
            padding: 0.75rem;
            font-size: 1rem;
            border: 2px solid var(--border);
            border-radius: 4px;
            background-color: var(--bg);
            color: var(--text);
            text-transform: uppercase;
            letter-spacing: 2px;
            text-align: center;
            font-weight: 600;
            transition: border-color 0.2s;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: var(--accent);
        }

        input[type="text"].shake {
            animation: shake 0.3s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .button-group {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .button-group button {
            flex: 1;
        }

        .game-over-screen {
            text-align: center;
        }

        .game-over-screen h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            color: var(--accent);
        }

        .result-box {
            background-color: var(--accent-light);
            padding: 2rem;
            border-radius: 8px;
            margin-bottom: 2rem;
        }

        .result-stat {
            margin: 1rem 0;
            font-size: 1.1rem;
        }

        .result-stat strong {
            color: var(--accent);
            font-size: 1.5rem;
        }

        .confetti {
            position: fixed;
            pointer-events: none;
            font-size: 2rem;
            animation: confettiFall 2s ease-out forwards;
        }

        @keyframes confettiFall {
            0% {
                opacity: 1;
                transform: translateY(0) rotate(0deg);
            }
            100% {
                opacity: 0;
                transform: translateY(100vh) rotate(360deg);
            }
        }

        .accessibility-toggle {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            font-size: 0.85rem;
        }

        .accessibility-toggle label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        input[type="checkbox"] {
            cursor: pointer;
        }

        .live-region {
            position: absolute;
            left: -10000px;
            width: 1px;
            height: 1px;
            overflow: hidden;
        }

        @media (max-width: 600px) {
            .pixel-grid {
                width: 280px;
                height: 280px;
            }

            header {
                flex-direction: column;
                gap: 0.5rem;
            }

            .header-left, .header-right {
                width: 100%;
                justify-content: space-between;
            }

            h1 {
                font-size: 1.2rem;
            }

            .score-timer {
                gap: 1rem;
            }

            .score-value {
                font-size: 1.2rem;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        @media print {
            header, .button-group, .input-section, .instructions {
                display: none;
            }

            .pixel-grid {
                margin: 2rem auto;
            }

            .result-box {
                page-break-inside: avoid;
            }
        }

        .high-contrast {
            --border: #000000;
            --text: #000000;
            --bg: #ffffff;
        }

        .high-contrast.dark {
            --border: #ffffff;
            --text: #ffffff;
            --bg: #000000;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-left">
            <h1>Pixel Puzzle Rush</h1>
            <div class="streak" aria-live="polite">
                ðŸ”¥ <span id="streakCount">0</span> day streak
            </div>
        </div>
        <div class="header-right">
            <div class="score-timer">
                <div class="score-item">
                    <span>Score</span>
                    <div class="score-value" id="scoreDisplay">0</div>
                </div>
                <div class="score-item">
                    <span>Time</span>
                    <div class="score-value" id="timerDisplay">60</div>
                </div>
            </div>
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode"></button>
            <button id="fullscreenBtn" aria-label="Toggle fullscreen">â›¶</button>
        </div>
    </header>

    <main>
        <div class="screen active" id="startScreen">
            <div class="start-screen">
                <h2>Pixel Puzzle Rush</h2>
                <div class="instructions">
                    <h3>How to Play</h3>
                    <ol>
                        <li>Type letter sequences to guess the hidden pattern</li>
                        <li>Press Enter to submit your guess</li>
                        <li>Correct guesses reveal 1-4 pixels</li>
                        <li>Wrong guesses cost 5 seconds</li>
                        <li>Reveal all pixels before time runs out!</li>
                    </ol>
                </div>
                <button id="playBtn" style="width: 100%; padding: 1rem; font-size: 1.1rem;">Play Today</button>
                <div class="accessibility-toggle">
                    <label>
                        <input type="checkbox" id="highContrastToggle">
                        High Contrast
                    </label>
                </div>
            </div>
        </div>

        <div class="screen" id="gameScreen">
            <div class="game-screen">
                <div class="grid-container">
                    <div class="pixel-grid" id="pixelGrid" role="region" aria-label="Pixel puzzle grid"></div>
                </div>
                <div class="input-section">
                    <label for="sequenceInput">Enter Sequence:</label>
                    <input 
                        type="text" 
                        id="sequenceInput" 
                        placeholder="e.g., CATDOG" 
                        maxlength="20"
                        aria-label="Sequence input field"
                    >
                </div>
                <div class="button-group">
                    <button id="submitBtn">Submit (Enter)</button>
                    <button id="printBtn">Print Puzzle</button>
                </div>
            </div>
        </div>

        <div class="screen" id="gameOverScreen">
            <div class="game-over-screen">
                <h2 id="gameOverTitle">Game Over!</h2>
                <div class="result-box">
                    <div class="result-stat">
                        Final Score: <strong id="finalScore">0</strong>/100
                    </div>
                    <div class="result-stat">
                        Pixels Revealed: <strong id="pixelsRevealed">0</strong>/16
                    </div>
                    <div class="result-stat">
                        Time Used: <strong id="timeUsed">0</strong>s
                    </div>
                </div>
                <button id="newGameBtn" style="width: 100%; padding: 1rem; font-size: 1.1rem;">New Game</button>
            </div>
        </div>
    </main>

    <div class="live-region" id="liveRegion" aria-live="polite" aria-atomic="true"></div>

    <script>
        // Game State
        const GRID_SIZE = 4;
        const TOTAL_PIXELS = GRID_SIZE * GRID_SIZE;
        const TIME_LIMIT = 60;
        const WRONG_PENALTY = 5;
        const SEED = 58497;

        let gameState = {
            currentPuzzleIndex: 0,
            revealedPixels: new Set(),
            timeRemaining: TIME_LIMIT,
            score: 0,
            gameActive: false,
            startTime: 0,
            puzzles: [],
            highScore: 0,
            bestTime: Infinity,
            completedPuzzles: new Set(),
            streak: 0,
            lastPlayDate: null
        };

        // Puzzle Generator (seeded)
        function seededRandom(seed) {
            const x = Math.sin(seed++) * 10000;
            return x - Math.floor(x);
        }

        function generatePuzzles(seed) {
            const puzzles = [];
            let currentSeed = seed;

            for (let i = 0; i < 10; i++) {
                const sequences = [];
                const pixelMap = new Map();

                for (let j = 0; j < 4; j++) {
                    const length = Math.floor(seededRandom(currentSeed++) * 6) + 3;
                    let seq = '';
                    for (let k = 0; k < length; k++) {
                        seq += String.fromCharCode(65 + Math.floor(seededRandom(currentSeed++) * 26));
                    }
                    sequences.push(seq);

                    const pixelCount = Math.floor(seededRandom(currentSeed++) * 4) + 1;
                    const pixels = [];
                    for (let p = 0; p < pixelCount; p++) {
                        let pixel;
                        do {
                            pixel = Math.floor(seededRandom(currentSeed++) * TOTAL_PIXELS);
                        } while (pixels.includes(pixel));
                        pixels.push(pixel);
                    }
                    pixelMap.set(seq, pixels);
                }

                puzzles.push({ sequences, pixelMap });
            }

            return puzzles;
        }

        // DOM Elements
        const startScreen = document.getElementById('startScreen');
        const gameScreen = document.getElementById('gameScreen');
        const gameOverScreen = document.getElementById('gameOverScreen');
        const pixelGrid = document.getElementById('pixelGrid');
        const sequenceInput = document.getElementById('sequenceInput');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const timerDisplay = document.getElementById('timerDisplay');
        const streakCount = document.getElementById('streakCount');
        const playBtn = document.getElementById('playBtn');
        const submitBtn = document.getElementById('submitBtn');
        const printBtn = document.getElementById('printBtn');
        const newGameBtn = document.getElementById('newGameBtn');
        const themeToggle = document.getElementById('themeToggle');
        const fullscreenBtn = document.getElementById('fullscreenBtn');
        const highContrastToggle = document.getElementById('highContrastToggle');
        const liveRegion = document.getElementById('liveRegion');

        // Initialize
        function init() {
            loadGameState();
            gameState.puzzles = generatePuzzles(SEED);
            updateThemeToggle();
            updateHighContrast();
            updateStreakDisplay();
        }

        function loadGameState() {
            const saved = localStorage.getItem('pixelPuzzleState');
            if (saved) {
                const data = JSON.parse(saved);
                gameState.highScore = data.highScore || 0;
                gameState.bestTime = data.bestTime || Infinity;
                gameState.completedPuzzles = new Set(data.completedPuzzles || []);
                gameState.streak = data.streak || 0;
                gameState.lastPlayDate = data.lastPlayDate;
            }
        }

        function saveGameState() {
            const data = {
                highScore: gameState.highScore,
                bestTime: gameState.bestTime,
                completedPuzzles: Array.from(gameState.completedPuzzles),
                streak: gameState.streak,
                lastPlayDate: gameState.lastPlayDate
            };
            localStorage.setItem('pixelPuzzleState', JSON.stringify(data));
        }

        function updateStreakDisplay() {
            streakCount.textContent = gameState.streak;
        }

        function startGame() {
            gameState.revealedPixels.clear();
            gameState.timeRemaining = TIME_LIMIT;
            gameState.score = 0;
            gameState.gameActive = true;
            gameState.startTime = Date.now();
            gameState.currentPuzzleIndex = 0;

            sequenceInput.value = '';
            sequenceInput.focus();

            renderGrid();
            updateDisplay();
            startTimer();

            showScreen('gameScreen');
        }

        function renderGrid() {
            pixelGrid.innerHTML = '';
            for (let i = 0; i < TOTAL_PIXELS; i++) {
                const pixel = document.createElement('div');
                pixel.className = 'pixel';
                if (gameState.revealedPixels.has(i)) {
                    pixel.classList.add('revealed');
                }
                pixel.setAttribute('role', 'img');
                pixel.setAttribute('aria-label', `Pixel ${i + 1} ${gameState.revealedPixels.has(i) ? 'revealed' : 'hidden'}`);
                pixelGrid.appendChild(pixel);
            }
        }

        function revealPixels(pixelIndices) {
            pixelIndices.forEach(index => {
                if (!gameState.revealedPixels.has(index)) {
                    gameState.revealedPixels.add(index);
                    const pixels = document.querySelectorAll('.pixel');
                    pixels[index].classList.add('revealed');
                }
            });

            if (gameState.revealedPixels.size === TOTAL_PIXELS) {
                endGame(true);
            }
        }

        function updateDisplay() {
            scoreDisplay.textContent = gameState.score;
            timerDisplay.textContent = gameState.timeRemaining;
        }

        function startTimer() {
            const timerInterval = setInterval(() => {
                if (!gameState.gameActive) {
                    clearInterval(timerInterval);
                    return;
                }

                gameState.timeRemaining--;
                updateDisplay();

                if (gameState.timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    endGame(false);
                }
            }, 1000);
        }

        function submitSequence() {
            if (!gameState.gameActive) return;

            const input = sequenceInput.value.toUpperCase().trim();
            if (!input) return;

            const puzzle = gameState.puzzles[gameState.currentPuzzleIndex];
            const pixelIndices = puzzle.pixelMap.get(input);

            if (pixelIndices) {
                playSound('correct');
                revealPixels(pixelIndices);
                gameState.score = Math.min(100, gameState.score + 10);
                liveRegion.textContent = `Correct! ${pixelIndices.length} pixel(s) revealed.`;
            } else {
                playSound('wrong');
                sequenceInput.classList.add('shake');
                gameState.timeRemaining = Math.max(0, gameState.timeRemaining - WRONG_PENALTY);
                liveRegion.textContent = 'Wrong guess. 5 seconds deducted.';
                setTimeout(() => sequenceInput.classList.remove('shake'), 300);
            }

            sequenceInput.value = '';
            updateDisplay();
        }

        function endGame(won) {
            gameState.gameActive = false;
            const timeUsed = TIME_LIMIT - gameState.timeRemaining;

            if (won) {
                playSound('win');
                if (timeUsed < 30) {
                    gameState.score = 100;
                }
                createConfetti();
                document.getElementById('gameOverTitle').textContent = 'ðŸŽ‰ You Won!';

                const today = new Date().toDateString();
                if (gameState.lastPlayDate !== today) {
                    gameState.streak++;
                    gameState.lastPlayDate = today;
                }
                gameState.completedPuzzles.add(gameState.currentPuzzleIndex);
            } else {
                document.getElementById('gameOverTitle').textContent = 'Time\'s Up!';
            }

            if (gameState.score > gameState.highScore) {
                gameState.highScore = gameState.score;
            }
            if (timeUsed < gameState.bestTime) {
                gameState.bestTime = timeUsed;
            }

            saveGameState();
            updateStreakDisplay();

            document.getElementById('finalScore').textContent = gameState.score;
            document.getElementById('pixelsRevealed').textContent = gameState.revealedPixels.size;
            document.getElementById('timeUsed').textContent = timeUsed;

            showScreen('gameOverScreen');
        }

        function createConfetti() {
            for (let i = 0; i < 30; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.textContent = ['ðŸŽ‰', 'â­', 'âœ¨', 'ðŸŽŠ'][Math.floor(Math.random() * 4)];
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-20px';
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 2000);
            }
        }

        function playSound(type) {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                if (type === 'correct') {
                    oscillator.frequency.value = 800;
                    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.1);
                } else if (type === 'wrong') {
                    oscillator.frequency.value = 300;
                    gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.2);
                } else if (type === 'win') {
                    oscillator.frequency.value = 1000;
                    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.3);
                }
            } catch (e) {
                // Audio context not available
            }
        }

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function updateThemeToggle() {
            const isDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            themeToggle.classList.toggle('dark', isDark);
        }

        function updateHighContrast() {
            const isHighContrast = highContrastToggle.checked;
            document.body.classList.toggle('high-contrast', isHighContrast);
        }

        // Event Listeners
        playBtn.addEventListener('click', startGame);
        submitBtn.addEventListener('click', submitSequence);
        newGameBtn.addEventListener('click', startGame);
        sequenceInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') submitSequence();
        });

        themeToggle.addEventListener('click', () => {
            themeToggle.classList.toggle('dark');
        });

        fullscreenBtn.addEventListener('click', () => {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(() => {});
            } else {
                document.exitFullscreen();
            }
        });

        highContrastToggle.addEventListener('change', updateHighContrast);

        printBtn.addEventListener('click', () => {
            window.print();
        });

        // Initialize game
        init();
    </script>
</body>
</html>