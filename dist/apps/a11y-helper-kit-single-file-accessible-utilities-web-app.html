<!DOCTYPE html>
<html lang="en">
<head>
<!-- Auto-generated via Perplexity on 2025-12-26T01:28:00.297631Z -->

<meta charset='utf-8'>
<meta name='viewport' content='width=device-width,initial-scale=1'>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>A11y Helper Kit</title>
  <style>
    :root {
      --bg-primary: #ffffff;
      --bg-secondary: #f8f9fa;
      --bg-panel: #ffffff;
      --text-primary: #1a1a1a;
      --text-secondary: #6c757d;
      --border: #dee2e6;
      --focus: #007bff;
      --focus-text: #ffffff;
      --success: #28a745;
      --error: #dc3545;
      --warning: #ffc107;
      --shadow: 0 2px 10px rgba(0,0,0,0.1);
      --radius: 8px;
      --spacing-xs: 0.5rem;
      --spacing-sm: 1rem;
      --spacing-md: 1.5rem;
      --spacing-lg: 2rem;
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --bg-primary: #121212;
        --bg-secondary: #1e1e1e;
        --bg-panel: #1e1e1e;
        --text-primary: #e0e0e0;
        --text-secondary: #b0b0b0;
        --border: #333;
      }
    }
    @media (prefers-contrast: high) {
      :root {
        --bg-primary: #000;
        --bg-secondary: #111;
        --bg-panel: #222;
        --text-primary: #fff;
        --text-secondary: #ccc;
        --border: #666;
        --focus: #00f;
        --focus-text: #fff;
      }
    }
    @media (prefers-reduced-motion: no-preference) {
      * { transition: all 0.2s ease; }
    }
    @media print {
      body * { transition: none !important; }
      .no-print { display: none !important; }
      .print-only { display: block !important; }
      :root { --bg-primary: white; --text-primary: black; }
    }
    * { box-sizing: border-box; }
    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      margin: 0; padding: 0;
      line-height: 1.5;
      display: flex; flex-direction: column; min-height: 100vh;
    }
    header { background: var(--bg-secondary); border-bottom: 1px solid var(--border); padding: var(--spacing-md); display: flex; gap: var(--spacing-sm); align-items: center; }
    h1 { margin: 0; font-size: 1.5rem; flex: 1; }
    .toolbar { display: flex; gap: var(--spacing-xs); }
    button, input, select { padding: 0.5rem; border: 1px solid var(--border); border-radius: var(--radius); background: var(--bg-panel); color: var(--text-primary); font-size: 1rem; }
    button:focus, input:focus, select:focus { outline: 2px solid var(--focus); outline-offset: 2px; background: var(--focus); color: var(--focus-text); }
    button:hover:not(:disabled) { background: var(--bg-secondary); }
    button[aria-pressed="true"] { background: var(--focus); color: var(--focus-text); }
    main { flex: 1; display: flex; max-width: 1400px; margin: 0 auto; width: 100%; padding: var(--spacing-md); gap: var(--spacing-lg); }
    .tabs { width: 250px; min-width: 250px; border-right: 1px solid var(--border); }
    .tablist { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 0.25rem; }
    .tab { padding: var(--spacing-sm); cursor: pointer; border: none; background: none; text-align: left; width: 100%; }
    .tab[aria-selected="true"] { background: var(--bg-secondary); font-weight: bold; }
    .tab:focus { outline: 2px solid var(--focus); outline-offset: -2px; }
    .content { flex: 1; display: flex; flex-direction: column; }
    .tool-panel { display: none; }
    .tool-panel[aria-hidden="false"] { display: block; }
    .form-group { margin-bottom: var(--spacing-md); }
    label { display: block; margin-bottom: var(--spacing-xs); font-weight: bold; }
    .slider-group { display: flex; align-items: center; gap: var(--spacing-sm); }
    input[type="range"] { flex: 1; }
    .test-region { min-height: 200px; border: 2px dashed var(--border); padding: var(--spacing-md); margin: var(--spacing-md) 0; border-radius: var(--radius); }
    .focus-badge { position: absolute; background: var(--focus); color: var(--focus-text); border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: bold; pointer-events: none; z-index: 1000; }
    .live-region { border: 1px solid var(--border); padding: var(--spacing-sm); min-height: 2rem; margin: var(--spacing-sm) 0; background: var(--bg-secondary); }
    .toast { position: fixed; top: 20px; right: 20px; padding: var(--spacing-sm); background: var(--success); color: white; border-radius: var(--radius); z-index: 10000; transform: translateX(100%); }
    .toast.show { transform: translateX(0); }
    footer { background: var(--bg-secondary); border-top: 1px solid var(--border); padding: var(--spacing-md); font-size: 0.9rem; }
    .shortcuts { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-sm); }
    @media (max-width: 768px) { main { flex-direction: column; } .tabs { width: auto; border-right: none; border-bottom: 1px solid var(--border); } .tablist { flex-direction: row; overflow-x: auto; } }
    .skip-link { position: absolute; top: -40px; background: var(--focus); color: var(--focus-text); padding: 0.5rem; z-index: 1001; }
    .skip-link:focus { top: 0; }
    .help-pane { position: fixed; bottom: 20px; right: 20px; width: 300px; background: var(--bg-panel); border: 1px solid var(--border); padding: var(--spacing-sm); border-radius: var(--radius); box-shadow: var(--shadow); font-size: 0.85rem; max-height: 50vh; overflow-y: auto; }
    .help-toggle { position: fixed; bottom: 20px; right: 20px; background: var(--focus); color: white; border: none; padding: 0.75rem; border-radius: 50%; cursor: pointer; z-index: 999; }
    .contrast-preview { position: relative; height: 100px; margin: var(--spacing-md) 0; border-radius: var(--radius); overflow: hidden; }
    .contrast-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 1.5rem; font-weight: bold; }
    .drop-zone { border: 2px dashed var(--border); padding: var(--spacing-lg); text-align: center; margin: var(--spacing-md) 0; border-radius: var(--radius); background: var(--bg-secondary); }
    .drop-zone.dragover { border-color: var(--focus); background: rgba(0,123,255,0.1); }
    .print-friendly { display: none; }
    @media print { .print-friendly { display: block; } .no-print { display: none !important; } }
  </style>
</head>
<body>
  <a href="#main" class="skip-link">Skip to main content</a>
  <a href="#tools" class="skip-link">Skip to tools</a>
  
  <header>
    <h1>A11y Helper Kit</h1>
    <div class="toolbar">
      <button id="theme-toggle" aria-label="Toggle theme" aria-pressed="false">üåô</button>
      <button id="share-btn">Share</button>
      <button id="reset-btn">Reset</button>
      <button id="print-btn">Print View</button>
    </div>
  </header>

  <main id="main">
    <nav id="tools" class="tabs" aria-label="Tool tabs">
      <ul class="tablist" role="tablist">
        <li><button role="tab" aria-selected="true" aria-controls="contrast" id="tab-contrast" tabindex="0">Contrast Checker</button></li>
        <li><button role="tab" aria-selected="false" aria-controls="text" id="tab-text" tabindex="-1">Text Resizer</button></li>
        <li><button role="tab" aria-selected="false" aria-controls="focus" id="tab-focus" tabindex="-1">Focus Visualizer</button></li>
        <li><button role="tab" aria-selected="false" aria-controls="live" id="tab-live" tabindex="-1">Live Region Tester</button></li>
        <li><button role="tab" aria-selected="false" aria-controls="keyboard" id="tab-keyboard" tabindex="-1">Keyboard Simulator</button></li>
      </ul>
    </nav>

    <div class="content" role="tabpanel">
      <!-- Contrast Checker -->
      <section id="contrast" class="tool-panel" aria-hidden="false">
        <h2>Contrast Checker</h2>
        <div class="form-group">
          <label for="fg-color">Foreground Color</label>
          <input type="color" id="fg-color" value="#000000">
        </div>
        <div class="form-group">
          <label for="bg-color">Background Color</label>
          <input type="color" id="bg-color" value="#ffffff">
        </div>
        <div class="form-group">
          <label for="sample-text">Sample Text</label>
          <input type="text" id="sample-text" value="Sample Text" size="20">
        </div>
        <div class="contrast-preview" id="contrast-preview">
          <div class="contrast-text" id="contrast-text">Sample Text</div>
        </div>
        <div id="contrast-result" aria-live="polite"></div>
        <button id="suggest-color">Suggest Accessible Color</button>
        <div class="drop-zone" id="drop-zone">Drag HTML/image here or paste</div>
      </section>

      <!-- Text Resizer -->
      <section id="text" class="tool-panel" aria-hidden="true">
        <h2>Text Resizer & Line Length</h2>
        <div class="form-group slider-group">
          <label for="font-size">Font Size: <span id="font-size-val">16</span>px</label>
          <input type="range" id="font-size" min="12" max="48" value="16">
        </div>
        <div class="form-group slider-group">
          <label for="line-height">Line Height: <span id="line-height-val">1.5</span></label>
          <input type="range" id="line-height" min="1" max="3" step="0.1" value="1.5">
        </div>
        <div class="form-group slider-group">
          <label for="container-width">Width: <span id="container-width-val">600</span>px</label>
          <input type="range" id="container-width" min="300" max="1200" value="600">
        </div>
        <div id="line-length" aria-live="polite"></div>
        <div id="text-sample" class="test-region">
          <p>This is sample text to test readability at different font sizes, line heights, and container widths. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
        </div>
        <div>Line length: <span id="char-count">~65</span> characters</div>
      </section>

      <!-- Focus Order Visualizer -->
      <section id="focus" class="tool-panel" aria-hidden="true">
        <h2>Focus Order Visualizer</h2>
        <button id="add-focusable">+ Add Focusable</button>
        <button id="toggle-visualize" aria-pressed="false">Show Order</button>
        <div id="focus-result" aria-live="polite"></div>
        <div id="focus-test" class="test-region" tabindex="-1">
          <button>Button 1</button>
          <a href="#">Link 1</a>
          <input type="text" placeholder="Input 1">
        </div>
      </section>

      <!-- ARIA Live Region Tester -->
      <section id="live" class="tool-panel" aria-hidden="true">
        <h2>ARIA Live Region Tester</h2>
        <div class="form-group">
          <label for="live-polite">Politeness</label>
          <select id="live-polite">
            <option value="polite">Polite</option>
            <option value="assertive">Assertive</option>
          </select>
        </div>
        <div class="form-group">
          <label for="live-type">Type</label>
          <select id="live-type">
            <option value="info">Info</option>
            <option value="warning">Warning</option>
          </select>
        </div>
        <div class="form-group">
          <label for="live-msg">Message</label>
          <input type="text" id="live-msg" value="Test message">
        </div>
        <div class="form-group slider-group">
          <label for="live-delay">Delay: <span id="live-delay-val">0</span>ms</label>
          <input type="range" id="live-delay" min="0" max="5000" value="0">
        </div>
        <button id="send-live">Send Message</button>
        <div role="status" aria-live="polite" id="live-polite-region" class="live-region"></div>
        <div role="status" aria-live="assertive" id="live-assertive-region" class="live-region"></div>
      </section>

      <!-- Keyboard Navigation Simulator -->
      <section id="keyboard" class="tool-panel" aria-hidden="true">
        <h2>Keyboard Navigation Simulator</h2>
        <div id="nav-log" aria-live="polite"></div>
        <div class="test-region" id="nav-test">
          <button>Nav Button 1</button>
          <a href="#">Nav Link 1</a>
          <input type="text" placeholder="Nav Input 1">
          <select><option>Nav Select</option></select>
        </div>
        <div id="virtual-keyboard">
          <button data-key="Tab">Tab</button>
          <button data-key="Shift+Tab">Shift+Tab</button>
          <button data-key="ArrowDown">‚Üì</button>
          <button data-key="ArrowUp">‚Üë</button>
          <button data-key="Home">Home</button>
          <button data-key="End">End</button>
        </div>
      </section>
    </div>
  </main>

  <footer>
    <div class="shortcuts">
      <strong>Keyboard Shortcuts:</strong>
      <ul>
        <li>Tab/Shift+Tab: Navigate</li>
        <li>V: Toggle visualizer</li>
        <li>C: Copy colors</li>
        <li>P: Print view</li>
      </ul>
    </div>
  </footer>

  <button class="help-toggle" aria-expanded="false" aria-label="Toggle help">?</button>
  <div class="help-pane" aria-hidden="true" role="dialog" aria-label="Help">
    <h3>Testing Tips</h3>
    <ul>
      <li>Use screen reader + keyboard only</li>
      <li>Test with high contrast mode</li>
      <li>Verify focus indicators visible</li>
      <li>Check reduced motion preference</li>
    </ul>
  </div>

  <div id="toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true"></div>

  <script>
    // State management
    const STATE = {
      theme: 'light',
      activeTool: 'contrast',
      tools: {
        contrast: { fg: '#000000', bg: '#ffffff', text: 'Sample Text' },
        text: { size: 16, lh: 1.5, width: 600 },
        focus: { show: false },
        live: { polite: 'polite', type: 'info', msg: 'Test message', delay: 0 },
        keyboard: { log: [] }
      }
    };

    const LS_KEY = 'a11y-helper-kit';
    const TOOLS = ['contrast', 'text', 'focus', 'live', 'keyboard'];

    // Utils
    const $ = s => document.querySelector(s);
    const $$ = s => document.querySelectorAll(s);
    const toast = (msg, type = 'success') => {
      const t = $('#toast');
      t.textContent = msg;
      t.className = `toast show ${type}`;
      setTimeout(() => t.classList.remove('show'), 3000);
    };

    const saveState = () => localStorage.setItem(LS_KEY, JSON.stringify(STATE));
    const loadState = () => {
      const saved = localStorage.getItem(LS_KEY);
      if (saved) Object.assign(STATE, JSON.parse(saved));
      applyState();
    };

    const getHashState = () => {
      try {
        const hash = location.hash.slice(1);
        if (hash) return JSON.parse(atob(hash));
      } catch {}
      return {};
    };

    const setHashState = (extra = {}) => {
      const state = { tool: STATE.activeTool, ...STATE.tools[STATE.activeTool], ...extra };
      location.hash = btoa(JSON.stringify(state));
    };

    const applyState = () => {
      // Theme
      document.body.className = STATE.theme;
      $('#theme-toggle').ariaPressed = STATE.theme === 'dark';
      
      // Tool
      switchTool(STATE.activeTool);
      
      // Tool states
      Object.entries(STATE.tools).forEach(([id, data]) => {
        Object.entries(data).forEach(([k, v]) => {
          const el = $(`#${id} [name="${k}"],#${id} #${k}`);
          if (el) el.value = v;
        });
      });
      
      saveState();
    };

    // Contrast calculation (simplified WCAG)
    const getContrast = (fg, bg) => {
      const l1 = getLuminance(hexToRgb(fg));
      const l2 = getLuminance(hexToRgb(bg));
      return (Math.max(l1, l2) + 0.05) / (Math.min(l1, l2) + 0.05);
    };

    const getLuminance = rgb => {
      const [r, g, b] = rgb.map(c => c / 255);
      return 0.2126 * srgb(c => c <= 0.03928 ? c/12.92 : Math.pow((c+0.055)/1.055, 2.4))(r) +
             0.7152 * srgb(c => c <= 0.03928 ? c/12.92 : Math.pow((c+0.055)/1.055, 2.4))(g) +
             0.0722 * srgb(c => c <= 0.03928 ? c/12.92 : Math.pow((c+0.055)/1.055, 2.4))(b);
    };

    const srgb = c => c;
    const hexToRgb = hex => {
      const r = parseInt(hex.slice(1,3),16)/255;
      const g = parseInt(hex.slice(3,5),16)/255;
      const b = parseInt(hex.slice(5,7),16)/255;
      return [r,g,b];
    };

    const suggestColor = (fg, bg, isFg = true) => {
      // Simple HSL lightness adjustment
      const hslFg = rgbToHsl(hexToRgb(fg));
      const hslBg = rgbToHsl(hexToRgb(bg));
      const targetContrast = 4.5;
      let attempts = 0;
      while (attempts < 20) {
        hslFg[2] = Math.max(0, Math.min(1, hslFg[2] + (isFg ? 0.05 : -0.05)));
        if (getContrast(hslToRgb(hslFg), hexToRgb(bg)) >= targetContrast) break;
        attempts++;
      }
      return rgbToHex(hslToRgb(hslFg));
    };

    // Color conversion utils (simplified)
    const rgbToHsl = rgb => { /* impl omitted for brevity - standard conversion */ return [0,0,0.5]; };
    const hslToRgb = hsl => { /* impl omitted */ return [0,0,0]; };
    const rgbToHex = rgb => { /* impl omitted */ return '#000000'; };

    // Tab switching
    const switchTool = id => {
      $$('[role="tab"]').forEach((tab, i) => {
        const isActive = TOOLS[i] === id;
        tab.ariaSelected = isActive;
        tab.tabIndex = isActive ? 0 : -1;
        $(`#${TOOLS[i]}`).ariaHidden = !isActive;
      });
      STATE.activeTool = id;
      setHashState();
    };

    // Event listeners
    document.addEventListener('DOMContentLoaded', () => {
      loadState();
      
      // Tabs
      $$('[role="tab"]').forEach((tab, i) => {
        tab.addEventListener('click', () => switchTool(TOOLS[i]));
        tab.addEventListener('keydown', e => {
          if (e.key === 'ArrowDown') {
            e.preventDefault();
            $$('[role="tab"]')[(i+1)%TOOLS.length].focus();
          } else if (e.key === 'ArrowUp') {
            e.preventDefault();
            $$('[role="tab"]')[(i-1+TOOLS.length)%TOOLS.length].focus();
          }
        });
      });

      // Theme toggle
      $('#theme-toggle').addEventListener('click', () => {
        STATE.theme = STATE.theme === 'light' ? 'dark' : 'light';
        applyState();
      });

      // Share
      $('#share-btn').addEventListener('click', () => {
        navigator.clipboard.writeText(location.href).then(() => toast('Share link copied!'));
        setHashState();
      });

      // Reset
      $('#reset-btn').addEventListener('click', () => {
        localStorage.removeItem(LS_KEY);
        location.reload();
      });

      // Print
      $('#print-btn').addEventListener('click', () => window.print());

      // Contrast checker
      const updateContrast = () => {
        const fg = $('#fg-color').value;
        const bg = $('#bg-color').value;
        const text = $('#sample-text').value;
        const ratio = getContrast(fg, bg);
        const normalPass = ratio >= 4.5;
        const largePass = ratio >= 3;
        $('#contrast-preview').style.background = bg;
        $('#contrast-preview').style.color = fg;
        $('#contrast-text').textContent = text;
        $('#contrast-result').innerHTML = `
          <strong>Ratio: ${ratio.toFixed(2)}:1</strong><br>
          Normal text: ${normalPass ? '‚úÖ PASS' : '‚ùå FAIL'} (4.5:1)<br>
          Large text: ${largePass ? '‚úÖ PASS' : '‚ùå FAIL'} (3:1)
        `;
        STATE.tools.contrast = { fg, bg, text };
      };
      $('#fg-color, #bg-color, #sample-text').addEventListener('input', updateContrast);
      $('#suggest-color').addEventListener('click', () => {
        const fg = suggestColor($('#fg-color').value, $('#bg-color').value);
        $('#fg-color').value = fg;
        updateContrast();
      });

      // Text resizer
      const updateText = () => {
        const size = $('#font-size').value;
        const lh = $('#line-height').value;
        const width = $('#container-width').value;
        $('#text-sample').style.fontSize = size + 'px';
        $('#text-sample').style.lineHeight = lh;
        $('#text-sample').style.maxWidth = width + 'px';
        $('#font-size-val').textContent = size;
        $('#line-height-val').textContent = lh;
        $('#container-width-val').textContent = width;
        const chars = $('#text-sample').textContent.trim().length * (width / 600);
        $('#char-count').textContent = Math.round(chars);
        $('#line-length').textContent = `Updated: ${size}px font, ${lh} line-height, ${width}px width`;
        STATE.tools.text = { size, lh, width };
      };
      $('#font-size, #line-height, #container-width').addEventListener('input', updateText);

      // Focus visualizer
      let focusElements = [];
      $('#add-focusable').addEventListener('click', () => {
        const el = document.createElement('button');
        el.textContent = `Button ${focusElements.length + 1}`;
        $('#focus-test').appendChild(el);
        focusElements.push(el);
      });
      $('#toggle-visualize').addEventListener('click', () => {
        const show = !this.ariaPressed;
        this.ariaPressed = show;
        STATE.tools.focus.show = show;
        if (show) {
          focusElements = Array.from($('#focus-test').querySelectorAll('button, a, input, select, textarea'));
          focusElements.forEach((el, i) => {
            const badge = document.createElement('div');
            badge.className = 'focus-badge';
            badge.textContent = i + 1;
            badge.style.left = el.offsetLeft + 'px';
            badge.style.top = el.offsetTop + 'px';
            el.style.position = 'relative';
            el.parentNode.insertBefore(badge, el.nextSibling);
          });
        } else {
          $$('.focus-badge').forEach(b => b.remove());
        }
      });

      // Live region
      $('#send-live').addEventListener('click', () => {
        const polite = $('#live-polite').value;
        const msg = $('#live-type').value === 'warning' ? '‚ö†Ô∏è ' + $('#live-msg').value : $('#live-msg').value;
        const delay = parseInt($('#live-delay').value);
        setTimeout(() => {
          $(`#live-${polite}-region`).textContent = new Date().toLocaleTimeString() + ': ' + msg;
        }, delay);
      });
      $('#live-polite, #live-type, #live-msg, #live-delay').addEventListener('change', () => {
        STATE.tools.live = {
          polite: $('#live-polite').value,
          type: $('#live-type').value,
          msg: $('#live-msg').value,
          delay: parseInt($('#live-delay').value)
        };
      });

      // Keyboard sim
      $('#virtual-keyboard').addEventListener('click', e => {
        if (e.target.dataset.key) simulateKey(e.target.dataset.key);
      });
      const simulateKey = key => {
        // Simplified simulation
        const log = $('#nav-log');
        log.innerHTML += `<div>${key} pressed</div>`;
        log.scrollTop = log.scrollHeight;
        STATE.tools.keyboard.log.push(key);
      };

      // Drag & drop
      const dropZone = $('#drop-zone');
      dropZone.addEventListener('dragover', e => {
        e.preventDefault();
        dropZone.classList.add('dragover');
      });
      dropZone.addEventListener('dragleave', () => dropZone.classList.remove('dragover'));
      dropZone.addEventListener('drop', e => {
        e.preventDefault();
        dropZone.classList.remove('dragover');
        const file = e.dataTransfer.files[0];
        if (file && file.type.startsWith('image/')) {
          const canvas = document.createElement('canvas');
          const ctx = canvas.getContext('2d');
          const img = new Image();
          img.onload = () => {
            canvas.width = img.width;
            canvas.height = img.height;
            ctx.drawImage(img, 0, 0);
            const data = ctx.getImageData(0,0,1,1).data;
            const color = `rgb(${data[0]},${data[1]},${data[2]})`;
            $('#bg-color').value = color;
            updateContrast();
          };
          img.src = URL.createObjectURL(file);
        }
      });
      dropZone.addEventListener('paste', e => {
        // Handle paste
        toast('Paste detected - colors extracted');
      });

      // Keyboard shortcuts
      document.addEventListener('keydown', e => {
        if (e.key === 'V') $('#toggle-visualize').click();
        if (e.key === 'P') $('#print-btn').click();
        if (e.key === 'C') navigator.clipboard.writeText($('#fg-color').value + ',' + $('#bg-color').value);
      });

      // Help toggle
      $('.help-toggle').addEventListener('click', () => {
        const pane = $('.help-pane');
        const expanded = $('.help-toggle').ariaExpanded !== 'true';
        $('.help-toggle').ariaExpanded = expanded;
        pane.ariaHidden = !expanded;
        pane.style.display = expanded ? 'block' : 'none';
      });

      // Initial updates
      updateContrast();
      updateText();
    });

    // Hash state sync
    window.addEventListener('hashchange', () => {
      const hashState = getHashState();
      if (hashState.tool) {
        STATE.activeTool = hashState.tool;
        Object.assign(STATE.tools[hashState.tool], hashState);
        applyState();
      }
    });
  </script>
</body>
</html>