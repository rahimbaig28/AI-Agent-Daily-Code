Pocket Sprint Planner

- Purpose: A single-file, offline-first personal productivity web app for planning focused micro-sprints (25–90 minute work blocks) with integrated quick notes, priority tagging, distraction logging, and retrospective metrics — implemented as one HTML file with inline CSS and JS (no external libraries).

- Core features (must be implementable in one HTML file):
  - Create and run a Sprint: title, duration selector (25, 30, 45, 60, 90 min), optional goal/notes field; Start/Pause/Stop controls.  
  - Sprint task list: add multiple short tasks for the sprint (inline edit, reorder by drag handle, mark done).  
  - Priority tags: each task can be tagged with Priority (High/Med/Low) and an optional context tag (Work/Home/Errand).  
  - Distraction logger: during an active sprint press a single-key shortcut (default "D") or click to log a distraction with timestamp and brief note; logs attach to current sprint.  
  - Retrospective summary at sprint end: duration, tasks completed, number of distractions, distraction timestamps, and a computed focus score (simple formula: completed tasks / (1 + distractions)).  
  - Session history: list of past sprints stored persistently (localStorage) showing date/time, duration, score, and ability to expand for full notes and distraction list.  
  - Quick Notes pane: small scratchpad with Markdown-lite preview (bold, italics, bullets) saved automatically to localStorage and exportable as TXT.  
  - Adaptive responsive layout: two-column on wide screens (left: current sprint/tasks; right: timer, distractions, quick notes), single-column on narrow screens.  
  - Accessibility and keyboard support:
    - All interactive elements reachable by Tab and operable via Enter/Space.  
    - ARIA roles and labels for timer, task list (role="list"/"listitem"), distraction log (role="log"), and modal dialogs.  
    - Keyboard shortcuts: Start/Stop (S), Pause/Resume (P), New Task (T), Log Distraction (D), Open Quick Notes (N), Toggle History (H). Display an accessible shortcut help panel.  
    - Visible focus outlines; color contrast meets WCAG AA for all text/background combinations.  
  - Offline-first behavior:
    - All data persisted in localStorage as JSON with atomic save after each change.  
    - Service Worker optional: include a minimal inline script registration that caches the one HTML file for true offline load (implementable within one file by registering a simple service worker blob URL).  
  - Export / Import:
    - Export selected sprint or full history as JSON file download.  
    - Import JSON to restore history (file input).  
  - Minimal animations and clear visual timer (circular progress and numeric mm:ss) that updates per second; audio/visual end alert with option to mute.

- UI/UX specifics (concrete, non-ambiguous):
  - Header with app name, shortcut help toggle, and "New Sprint" button.  
  - New Sprint modal (in-file implementation) focuses first input on open and traps focus until closed. Modal accessible by keyboard and has ARIA attributes.  
  - Task entry row: text input, priority dropdown, context dropdown, drag handle (aria-grabbed), done checkbox, edit inline, delete button. Reordering uses HTML5 drag-and-drop with keyboard alternative: "Move Up" / "Move Down" buttons per task.  
  - Timer card: large numeric display, circular SVG progress ring that animates via CSS/JS, Start/Pause/Stop buttons, and remaining time announced to screen readers on 1-minute and 10-second marks.  
  - Distraction logger: single prominent button and keyboard hook; logs appear in chronological list with ability to add follow-up note and mark as "avoidable" or "unavoidable".  
  - History panel: searchable by text and filterable by score range, tag, or date range; each history item shows summary and expand/collapse for details.  
  - Quick Notes: editable textarea, auto-save debounce 500ms, "Preview" toggle renders Markdown-lite safely (escape HTML). Export as .txt button.

- Data model (for implementers):
  - localStorage key: "pocketSprint:v1" storing an object:
    - sprints: array of { id (timestamp), title, durationMin, startISO, endISO, tasks: [{id,text,priority,context,done,order}], distractions: [{tsISO,note,avoidable}], quickNotesSnapshot, score }  
    - currentSprint: {same structure or null}  
    - quickNotes: {updatedISO,content}  
    - settings: {shortcuts,muted,theme}  
  - Save on every meaningful change; keep history capped (configurable default 200 entries) with automatic pruning oldest items.

- Implementation constraints and expectations:
  - Single HTML file only: inline <style> and <script>; no external CSS/JS or fonts. Total code size must be reasonable to implement under ~1000 lines.  
  - No backend, no external analytics. Use only standard browser APIs (localStorage, drag/drop, File API, ServiceWorker registration via blob if included).  
  - Keep CSS simple and responsive (flex/grid). Use semantic HTML5 elements. Use SVG for icons/clock ring (inline).  
  - Provide clear error handling UI for import failures or storage quota issues.

- Deliverable acceptance criteria (testable):
  - Starting a sprint begins countdown and creates a currentSprint entry in localStorage immediately.  
  - Logging a distraction during an active sprint appends an entry with ISO timestamp and increments distraction count shown on UI and retrospective.  
  - Ending a sprint computes and saves a score and moves sprint into history; history persists across reloads.  
  - Keyboard shortcuts operate when focus is not in a text input; a visible help overlay lists the shortcuts.  
  - Quick Notes persist and export to .txt; import restores history JSON correctly.  
  - The app loads and functions offline after first load (service worker caches file) and recovers gracefully if service worker is not supported.

- Optional polish items (nice-to-have but not required):
  - Light/dark theme toggle saved to settings.  
  - Small statistics dashboard: weekly average focus score chart using simple canvas (client-side only).  
  - Tiny motivational microcopy that rotates per new sprint start.

(Generated: 2025-12-28T01:45:42.374114Z, seed=34611, theme=personal productivity, extras=ARIA-compliant components, responsive grid, offline-first with localStorage, kind=html)
