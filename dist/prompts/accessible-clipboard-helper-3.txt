Accessible Clipboard Helper

- Purpose: A single-file, keyboard-first, ARIA-compliant web app that helps users save, label, and share short clipboard snippets with accessibility-focused helpers (readable contrast, large focus outlines, screen-reader cues). The app must be implemented as one HTML file with inline CSS and JS (no external libraries).

- Main features (implementable in one HTML file)
  - Add snippet: input area (single-line and multi-line toggle) to paste or type text, a short title field, and an optional description; "Save" stores the snippet to localStorage and updates UI.  
  - Live preview + reading aids: preview pane with adjustable font size (small/medium/large), high-contrast mode toggle, and a "Read aloud" button that uses the Web Speech API when available.  
  - List view & keyboard navigation: an accessible list of saved snippets showing title, truncated content, and tags; arrow-up/down moves focus through items; Enter opens an item; Delete key prompts to remove focused item.  
  - Detail panel: when a snippet is opened, show full content, description, creation timestamp, copy-to-clipboard button, and an "Edit" button (inline edit mode). Focus should move to the panel and be announced via an ARIA live region.  
  - Quick actions toolbar with keyboard shortcuts (visible legend): New (N), Save (Ctrl/Cmd+S in edit), Copy (C), Share (S), Toggle contrast (H), Increase/Decrease font size (+/-), Toggle multi-line (M), Search (/) â€” shortcuts should be documented in the UI and implemented with non-conflicting handlers.  
  - Search & filter: accessible search input (keyboard focusable via "/") that filters list by title/content/tags; optional tag filter chips with aria-pressed state.  
  - Share via URL hash: encode a snippet's id and minimal read-only data in the URL hash so a user can open the one-file app and load that snippet; when a shared hash is present, app should open detail panel automatically and set an aria-live announcement like "Shared snippet opened".  
  - Persistence: store snippets as JSON in localStorage with stable IDs, timestamps, title, content, description, font-size preference, contrast preference, and tags. Provide export/import JSON buttons to save all snippets to a file and restore from a JSON paste (file download/upload optional but not required).  
  - Accessibility compliance: semantic HTML, ARIA roles where appropriate (role="application" for main app container only if beneficial), labeled form controls, aria-live regions for announcements (actions like save/delete/share), focus management (trap focus into modals/panels, restore focus after close), skip-to-content link, visible focus indicators, keyboard operability for all features.  
  - Responsive layout: single-column on narrow screens, two-column (list + detail) on wider screens; all interactive elements at reachable sizes for touch.

- UI / Interaction details (precise, implementable)
  - Top toolbar: "Skip to content" link (focusable), App title (h1), search box, high-contrast toggle, font-size buttons, new-snippet button.  
  - Left pane: vertical list of saved snippets as <ul> with each <li> a focusable button (tabindex=0 or <button>), showing title (bold) and truncated content; include aria-describedby for timestamp.  
  - Right pane / detail panel: initially shows a placeholder "No snippet selected"; when opened, becomes a focusable region (tabindex= -1 then focus()) with aria-labelledby and an aria-live polite region for new announcements. Provide "Copy", "Edit", "Share", "Delete" buttons with clear accessible names.  
  - Modal/editor: inline editor area expands within detail panel; Save should validate non-empty title/content and announce success via aria-live. Ctrl/Cmd+S triggers save while editing; Esc cancels edit and returns focus to the previously focused control.  
  - Share format: URL hash structure #share=<id>&t=<title-encoded> (only minimal safe encoding). On load, if hash contains share id, load snippet from localStorage; if not found, show readable message in aria-live region. Implement fallback to read-only view when a shared snippet id exists but edit is disabled (user can import to own storage).  
  - Copy behavior: use navigator.clipboard when available, fallback to a hidden textarea with execCommand('copy'). Announce copy success/failure using aria-live.

- Keyboard & focus rules (must be precise)
  - Tab order: toolbar -> search -> list -> detail -> toolbar actions; ensure no keyboard traps except when modal/editor is open.  
  - Arrow keys in list: Up/Down moves between items; Enter opens selected; Delete triggers a confirm dialog (native confirm acceptable) for deletion.  
  - Shortcuts: implement keydown handlers that ignore inputs when focus is inside text fields except for Ctrl/Cmd+S and Esc inside editor; show a small, dismissible "Shortcuts" help overlay reachable by ? or pressing a visible help button.  
  - Focus restoration: after closing detail or editor, restore focus to the list item or new-snippet button that opened it.

- Visual & content accessibility constraints
  - Contrast: ensure text meets WCAG AA contrast ratios in default and high-contrast modes.  
  - Focus styles: 3px visible outline with non-gray color; do not rely on :focus-visible polyfills.  
  - Fonts & spacing: use system font stack, allow user-adjustable font size via toolbar buttons and preserve choice in localStorage.  
  - Aria-live usage: one polite region for non-critical feedback, one assertive region only for critical errors (use sparingly).

- Testing & edge cases to implement
  - Behavior when localStorage is full or unavailable: show accessible error message and offer JSON export as fallback.  
  - Handling of very long snippets: truncate in list but allow full scroll in detail; ensure copy works for long text.  
  - Hash collision / invalid hash: show readable message and do not crash; allow user to import snippet JSON to recover.  
  - No-JS progressive enhancement: core content (a fallback form with action="#") should be readable and allow copying via manual selection; app must not entirely break if JS is disabled (graceful message or basic non-JS form).

- Deliverable constraints
  - Single HTML file with inline CSS and JS, under ~1000 lines implementable.  
  - Keep code structure simple: clear separation between DOM queries, state management (localStorage wrapper), accessibility helpers (focus management, aria announcements), and UI rendering.  
  - No external network requests or libraries; use only standard browser APIs (localStorage, history.hash, Web Speech, Clipboard).

(Generated: 2025-12-18T01:23:35.852324Z, seed=98188, theme=accessibility helpers, extras=keyboard-first UX, ARIA-compliant components, share via URL hash, kind=html)
