Pocket Ledger — Single-file Budget Grid (HTML)

- Purpose: A single-file web app (one HTML file with inline CSS & JS only) for quick personal budgeting by entering transactions into a responsive, keyboard-first grid, viewing running balances, and filtering/summarizing by category and date. Persist data in localStorage so the app is fully offline and portable.

- Core UI:
  - Top toolbar with app title (Pocket Ledger), dark/light auto theme toggle indicator (follows system preference by default) and buttons: New Transaction (+), Filter, Export JSON, Import JSON, Clear All (with confirmation).
  - Responsive transaction grid (spreadsheet-like) showing rows: Date, Payee, Category (editable select), Type (Expense/Income), Amount, Balance, Notes, Actions (edit/delete). Columns resize to fit; grid becomes stacked cards on very small screens.
  - Sticky summary bar showing: Current Balance, Total Income (visible period), Total Expenses (visible period), Net (income - expenses). Summary updates live with filters.
  - Filter panel (collapsible) with: date range, category multi-select, type (Income/Expense/Both), text search (payee/notes). Keyboard focusable controls.

- Data model & persistence:
  - Each transaction: id (UUID-ish), date (ISO YYYY-MM-DD), payee (string), category (string), type ("income"|"expense"), amount (number, positive), notes (string), createdAt timestamp.
  - Store transactions array in localStorage under key "pocket-ledger:v1".
  - Export/Import JSON: Export downloads JSON file; Import loads JSON and validates schema (prompt on conflict/merge).

- Features & behaviors:
  - Add transaction: keyboard shortcut N or Ctrl+N opens inline form (modal-like but accessible). Form fields default to today’s date and last used category/type. Submit validates date and amount.
  - Inline edit: double-click (or Enter when row focused) to edit row in-place; Esc cancels; Enter saves. Deleting a row requires confirmation (keyboard-accessible).
  - Running balance: computed in date-sorted order and displayed per-row and in summary. Option in toolbar to calculate balance by transaction date or by entered order.
  - Category management: user can add/edit/delete custom categories via Category editor dialog; defaults include: Groceries, Rent, Utilities, Salary, Entertainment, Transport, Misc.
  - Keyboard-first UX: Full keyboard navigation with arrow keys across grid cells, Tab/Shift+Tab, Enter to edit, Ctrl+Arrow to jump columns, / to focus search, ? to open help overlay listing shortcuts.
  - Accessibility: semantic HTML, ARIA labels for controls and dialogs, focus outlines visible, color contrast adequate in both themes, live region announcements when transactions are added/edited/deleted.
  - Sorting & grouping: click column headers to sort (asc/desc); toggle grouping by category to show collapsible groups with group totals.
  - Responsive grid: CSS grid layout for desktop; switches to stacked card list for width < 520px; touch-friendly controls.
  - Dark/light auto theme: use prefers-color-scheme to set initial theme; user can toggle theme which is persisted to localStorage.
  - Tiny charts: mini bar sparkline in summary showing last 12 period totals (month or custom period) rendered with simple inline SVG.
  - Undo: After delete or clear, show toast with Undo (5s) to restore last action.

- Validation & safety:
  - Input validation with inline error messages: date format, amount numeric > 0, required payee/category.
  - Confirm destructive actions (Clear All, bulk import overwrite).
  - Limit localStorage footprint: compress JSON by omitting unnecessary fields and cap auto-backup history to last 10 snapshots (stored as separate keys like "pocket-ledger:backup:1").

- Implementation constraints:
  - Single HTML file must include only inline CSS and vanilla JS—no external libraries or frameworks.
  - Keep DOM and JS modular but all inside one file (under ~1000 lines of code implementable).
  - Use localStorage and File API (download/upload) for persistence/import/export.
  - Optimize for performance on small devices: render only visible rows for long lists (simple virtualization or pagination).
  - Provide a small seeded demo dataset on first load to illustrate features; user can clear it.

- Deliverables (for the implementer):
  - Index.html single file implementing the above features, with clear comments sections: constants, storage API, UI renderers, event handlers, keyboard shortcuts, accessibility helpers.
  - Inline help overlay listing shortcuts and feature hints.
  - Ensure the app is usable without network access and implement graceful degradation for browsers without advanced APIs (fallback to basic import via paste).

(Generated: 2025-12-15T01:39:31.118139Z, seed=91105, theme=finance & budgeting, extras=responsive grid, keyboard-first UX, dark/light auto theme, kind=html)
