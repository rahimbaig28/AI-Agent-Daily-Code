Accessibility Toolkit Panel

- Single-file web app: one HTML document with inline CSS and vanilla JS only. No external assets, fonts, or libraries.
- Purpose: A compact “toolbar” web app that helps users test and simulate accessibility states on any text they paste: contrast checking, focus-visible demo, ARIA live region demo, and keyboard-only navigation practice.
- Layout:
  - Sticky top header with app title and a brief description; collapsible via a “Hide header” button to save space.
  - Main area split into vertically stacked sections:
    - “Theme & Contrast”
    - “Focusable Elements Lab”
    - “ARIA Live Region Tester”
    - “Checklist & Notes”
  - Simple responsive layout: single-column on narrow screens, centered content with max-width on wide screens.
- Global accessibility:
  - All interactive elements are reachable via keyboard (Tab/Shift+Tab) and operable via Enter/Space.
  - Provide a visible “Skip to main content” link that appears on focus and jumps past the header.
  - Ensure proper heading hierarchy (h1 for title, then h2 for main sections).
  - Use ARIA roles and attributes only where semantic HTML is insufficient (e.g., role="status" for live region).
  - Maintain a clear focus outline using :focus-visible with high-contrast colors.
  - Ensure all color choices meet WCAG AA contrast for body text vs background in both light and dark themes.
  - Use labels for all inputs, associated via for/id or implicit label wrapping.
- Dark/light auto theme:
  - Detect prefers-color-scheme (light/dark) on load and set initial theme accordingly.
  - Provide a theme toggle button (Light/Dark/System):
    - System: uses prefers-color-scheme.
    - Light: forces light CSS variables.
    - Dark: forces dark CSS variables.
  - Implement via CSS variables on :root for background, text, accent, border, and focus colors, updated by JS.
  - Persist user selection in localStorage; on next load, reapply chosen theme (overriding system) if set.
- Offline-first behavior:
  - Fully functional without network after first load: no external requests or dependencies.
  - Show a small “Offline-capable” indicator in the header (static text; no service worker needed).
- Section: Theme & Contrast
  - Inputs for:
    - Foreground color: text field accepting hex (e.g., #112233) plus a small color input (type="color").
    - Background color: same pattern as foreground.
  - Text area where user can type sample text, with live preview.
  - JS logic to:
    - Normalize and validate hex colors (3 or 6 hex digits); show inline error message if invalid.
    - Compute relative luminance and contrast ratio according to WCAG formula.
    - Display contrast ratio (e.g., “Contrast ratio: 4.53:1”) and pass/fail badges for:
      - Normal text AA (4.5:1)
      - Large text AA (3:1)
      - AAA thresholds.
  - The sample preview text:
    - Uses the chosen foreground/background colors.
    - Includes a sample link and a sample button to show their appearance.
  - Allow user to toggle “Use app theme colors” which sets foreground/background to current theme’s text/background variables.
- Section: Focusable Elements Lab
  - Purpose: demonstrate keyboard navigation and focus-visible styling.
  - Content:
    - A short instruction text explaining: “Press Tab to move through items, Shift+Tab to move backward. Activate with Enter or Space.”
    - A linear sequence of interactive elements:
      - A button (“Sample button”).
      - A native link (“Sample link”).
      - A checkbox with label (“Sample checkbox”).
      - A radio group with two options.
      - A text input with label and placeholder.
    - Each element has aria-describedby pointing to a small description explaining its role and keyboard interaction.
  - Focus visualization:
    - Custom focus-visible styles for all elements (e.g., thick outline and subtle background highlight).
    - A “Show focus order” toggle:
      - When ON, each focusable element shows a tiny badge with its tab index order number.
      - Also display a numbered list below describing each element in focus order.
  - Keyboard testing helper:
    - A live text line that updates on focus changes, e.g., “Current focus: [role] – [label text]”.
    - Implement using focusin event, reading role, tag name, and associated label text.
- Section: ARIA Live Region Tester
  - Provide:
    - A text input (single-line) for entering a message.
    - A select dropdown for choosing politeness level: “polite” or “assertive”.
    - A “Announce” button.
  - Live region:
    - A visually minimal, screen-reader-visible region with role="status" (for polite) or role="alert" (for assertive) depending on selection.
    - Use aria-live attribute toggled by JS (or dynamically swap role/aria-live).
  - Behavior:
    - On clicking “Announce”, JS sets the live region’s text to the input value and clears the input (optional).
    - Also show the “Last announced message” visually in a separate box with timestamp.
  - Include a short note describing typical use-cases for polite vs assertive announcements.
- Section: Checklist & Notes
  - A small, editable accessibility checklist with at least 6 pre-defined items (e.g., “All images have alt text”, “Interactive elements are reachable via keyboard”, etc.).
  - Each item:
    - A checkbox and a label.
    - When checked, item text is visually styled as completed.
  - Allow users to:
    - Add a custom checklist item via a text input and “Add item” button.
    - Remove custom items via a delete button (not allowed on default items).
  - Notes:
    - A multi-line textarea labeled “Accessibility notes for this project”.
    - Autosave contents to localStorage on input events (debounced) and restore on load.
- LocalStorage persistence:
  - Keys and behaviors:
    - themePreference: "system" | "light" | "dark".
    - contrastSettings: foreground, background, sampleText (optional).
    - checklistState: which default items are checked plus custom items (id, text, checked).
    - notesContent: full text from notes textarea.
    - focusLabSettings: whether “Show focus order” toggle is on.
  - On load:
    - Read stored values, validate basic structure, and apply if present.
  - Provide a “Reset all settings” button at the bottom:
    - On activation, confirm via a simple confirm dialog.
    - If confirmed, clear relevant localStorage keys and reload or reinitialize UI state.
- ARIA and semantics:
  - Header: use <header> with the title as h1 and description as a short <p>.
  - Main sections: wrapped in <main>, each with h2 and landmark semantics where appropriate.
  - Theme toggle: button with aria-pressed state or aria-label clearly indicating current mode.
  - “Hide header” control: toggles aria-expanded on the button and aria-hidden on header text.
  - Checklist region: <section> with aria-label="Accessibility checklist".
  - Notes area: labelled textarea; include aria-describedby referencing short helper text about autosave.
- Keyboard shortcuts (non-conflicting, optional but recommended):
  - Alt+1: focus Theme & Contrast heading.
  - Alt+2: focus Focusable Elements Lab heading.
  - Alt+3: focus ARIA Live Region Tester heading.
  - Alt+4: focus Checklist & Notes heading.
  - Show a small “Keyboard shortcuts” help text listing these.
- Visual design:
  - Use a clean, minimal layout with generous spacing and readable font size (base 16px or larger).
  - Ensure line-height of at least 1.4–1.5 and adequate touch targets (minimum 40x40px) for buttons.
  - Use simple borders and background panels to distinguish sections; avoid relying solely on color.
- Implementation constraints:
  - All CSS must be in a single <style> block in the HTML head.
  - All JS must be in a single <script> block at the end of body.
  - No external network requests, fonts, or images; rely on system fonts and pure CSS.
  - Code should be organized with clear functions for:
    - themeInit/themeToggle
    - contrastUpdate
    - focusLabInit
    - liveRegionAnnounce
    - checklistInit/checklistAdd/checklistToggle
    - notesInit/notesSave
    - resetAll
- Testing aids:
  - Provide a small “Test data” button near the notes area that fills sample notes and checks a couple of checklist items to quickly verify persistence; this should not overwrite existing data without confirmation.

(Generated: 2026-01-09T01:39:35.438537Z, seed=54629, theme=accessibility helpers, extras=offline-first with localStorage, ARIA-compliant components, dark/light auto theme, kind=html)
