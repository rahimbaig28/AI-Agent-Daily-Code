Research Clipboard — single-file HTML research utilities app

- Purpose: Single-page, single-file web app (one HTML file with inline CSS and JS) that helps researchers collect, annotate, organize, and export clipped text/snippets and small files while working offline; optimized for quick capture, lightweight search, and iterative refinement with undo/redo.

- Primary UI/UX:
  - Top sticky toolbar with: app title, quick-capture input, Add Clip button, Undo and Redo buttons, Save export button, and settings (collapsed).
  - Left column: collapsible tag list and filters (All, Untagged, Starred, Recent).
  - Main column: responsive card grid of clips (card pattern) showing snippet text (trimmed), source URL (optional), tags, star, timestamp, and attachments count.
  - Right pane (drawer) for clip editor: full text, editable title, tags (comma separated + tag suggestions), source URL, notes, attachments preview, and actions (Save, Delete, Duplicate).
  - Empty states: friendly copy and CTA to add first clip.

- Features (must be implementable without external libraries):
  - Quick-capture: capture a short snippet or paste full text into the top input and press Enter or click Add to create a new clip with automatic timestamp and optional current-page URL if using as a bookmarklet (detect document.location when available).
  - Clip cards: show preview (first 200 chars), click to open editor drawer.
  - Tagging: add/remove tags in editor; tags are indexed for quick filtering; tag suggestions based on existing tags sorted by frequency.
  - Search & filter: unified search box (title, text, tags, URL) with instant fuzzy-ish substring matching; filter buttons for starred, attachments, and date ranges (last 24h, 7d, 30d).
  - Star and pin: star icon toggles importance; pin (optional) keeps clip at top of grid.
  - Attachments (drag-and-drop & file picker): allow attaching up to 3 small files per clip (images, PDFs, text) using FileReader and store as base64 data URIs in localStorage; show thumbnail or icon and allow download.
  - Offline-first persistence: all data stored in browser localStorage as a single JSON blob (schema below); app loads from localStorage and writes changes immediately; provide Export JSON and Import JSON (file chooser) for backup/restore.
  - Undo/Redo: linear undo/redo for recent operations (create, edit, delete, tag, attach) tracked in an in-memory command stack with limit (e.g., 50 actions); UI buttons and keyboard shortcuts Ctrl+Z / Ctrl+Y (or Cmd on Mac).
  - Drag-and-drop reordering: allow dragging clip cards to reorder within the grid; order is persisted (an order array in storage).
  - Duplicate and quick-duplicate: duplicate action in card menu and Shift+Add from editor to clone current clip.
  - Export formats: Export selected clips or all clips as:
    - JSON (complete data)
    - Plain text bundle (each clip separated by --- with metadata header)
    - Single ZIP-like downloadable .html file (simple generated HTML containing clips; no real ZIP required) — implemented by creating a Blob and triggering download.
  - Safe trimming and storage caps: enforce per-clip attachment size limit (e.g., 2 MB each) and total storage warning when localStorage usage approaches quota; show clear warning and suggest Export+Clear.
  - Accessibility & keyboard support:
    - All interactive controls reachable via Tab and operable with Enter/Space.
    - Escape closes editor drawer and modals.
    - Arrow keys navigate tag list and clip cards when a "navigate mode" is toggled.
    - ARIA labels on buttons, role="dialog" for drawer, and semantic HTML for forms and lists.
  - Performance: incremental rendering of card grid (render visible items first) for large collections; debounce search input (150ms).
  - Security & privacy cues: data stays in browser unless user exports; explain in settings and include a Clear All data with confirmation typed input ("DELETE ALL") to prevent accidents.

- Data model (persisted in localStorage under key "research_clipboard_v1"):
  - root: { clips: {id: Clip}, order: [id], tags: {tagName: count}, settings: {...}, nextId: n }
  - Clip: { id, title, text, tags: [str], url, starred: bool, pinned: bool, attachments: [{name, type, dataUri, size}], createdAt: ISO, updatedAt: ISO }

- Minimal keyboard shortcuts:
  - Ctrl/Cmd+K focuses quick-capture.
  - Enter in quick-capture => Add clip.
  - Ctrl/Cmd+Z => Undo; Ctrl/Cmd+Y or Ctrl/Cmd+Shift+Z => Redo.
  - Ctrl/Cmd+S => Open Export dialog.
  - Esc => Close editor/dismiss modal.

- Error handling & UX:
  - Show inline validation (e.g., invalid URL).
  - Graceful failure if localStorage unavailable: fallback to in-memory only with prominent warning and Export recommendation.
  - Confirm destructive actions with modal and typed confirmation for "Delete All" and per-clip delete confirmation.

- Settings (small, saved in settings object):
  - Attachment max size per file (adjustable).
  - Undo stack size.
  - Toggle for showing timestamps in card view.
  - Theme: light / dark (CSS variables).

- Implementation constraints:
  - One HTML file with inline CSS and JS only; no external libraries or network requests required.
  - Keep code implementable under ~1000 lines by using vanilla DOM APIs, FileReader, Blob, localStorage, and simple drag/drop APIs.
  - Provide clear IDs/classes for key elements to simplify testing and e2e selection (toolbar input id="quick-capture", add button id="btn-add", clips container id="clips", drawer id="editor-drawer", export button id="btn-export").
- Deliverable expectations for developer:
  - The HTML file implements the above features with modular, commented JS functions for storage, rendering, editor interactions, attachments handling, undo/redo, and export/import.
  - Include a compact README comment at top of file describing storage key, shortcuts, and schema.

(Generated: 2025-12-20T01:22:37.598986Z, seed=64375, theme=research utilities, extras=offline-first with localStorage, drag-and-drop, undo/redo, kind=html)
